(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3I1i":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),i=function(){return function(){}}(),o=t("pMnS"),a=t("bujt"),r=t("UodH"),u=t("lLAP"),s=t("wFw1"),c=t("v9Dh"),b=t("eDkP"),d=t("qAlS"),h=t("dWZg"),g=t("Fzqc"),f=t("ZYjt"),m=t("Mr+X"),p=t("SMsm"),A=t("Ip0R"),y=t("ZYCi"),v=t("wnUk"),w=t("yGQT"),D=t("Z5h4"),I=t("de3e"),x=t("gIcY"),C=t("mVsa"),_=t("2Q+G"),B=t("7iLc"),P=t("r43C"),k=t("Z+H9"),S=t("zy28"),O=t("21Lb"),E=t("OzfB"),M=t("ny24"),G=t("VnD/"),j=t("t9fZ"),F=t("K9Ia"),L=t("jYNz"),R=Object(w.u)("gallery"),U=Object(w.x)(R,function(n){return n.galleryPhotos}),Q=(Object(w.x)(R,function(n){return n.selectedGalleryPhoto}),Object(w.x)(R,function(n){return n.isLoading})),T=function(n){return n.GetAllGalleryPhotos="[GalleryPhotos] Get All",n.GetAllGalleryPhotosSuccess="[GalleryPhotos] Get All Success",n.GetGalleryPhoto="[GalleryPhotos] Get GalleryPhoto",n.GetGalleryPhotoSuccess="[GalleryPhotos] Get GalleryPhoto Success",n.DeleteGalleryPhoto="[GalleryPhotos] Delete GalleryPhoto",n.DeleteGalleryPhotoSuccess="[GalleryPhotos] Delete GalleryPhoto Success",n.UpdateGalleryPhoto="[GalleryPhotos] Update GalleryPhoto",n.UpdateGalleryPhotoSuccess="[GalleryPhotos] Update GalleryPhoto Success",n.CreateGalleryPhoto="[GalleryPhotos] Create GalleryPhoto",n.CreateGalleryPhotoSuccess="[GalleryPhotos] Create GalleryPhoto Success",n.GalleryPhotosStopLoading="[GalleryPhotos] Stop Loading",n.ReorderGalleryPhotos="[GalleryPhotos] Reorder",n.ReorderGalleryPhotosSuccess="[GalleryPhotos] Reorder Success",n.ActivateManyGalleryPhotos="[GalleryPhotos] Activate Many",n.ActivateManyGalleryPhotosSuccess="[GalleryPhotos] Activate Many Success",n}({}),N=Object(w.t)(T.GetAllGalleryPhotos,Object(w.z)()),H=Object(w.t)(T.GetAllGalleryPhotosSuccess,Object(w.z)()),q=Object(w.t)(T.GetGalleryPhoto,Object(w.z)()),z=Object(w.t)(T.GetGalleryPhotoSuccess,Object(w.z)()),K=Object(w.t)(T.DeleteGalleryPhoto,Object(w.z)()),W=Object(w.t)(T.DeleteGalleryPhotoSuccess,Object(w.z)()),$=Object(w.t)(T.UpdateGalleryPhoto,Object(w.z)()),V=Object(w.t)(T.UpdateGalleryPhotoSuccess,Object(w.z)()),Y=Object(w.t)(T.CreateGalleryPhoto,Object(w.z)()),X=Object(w.t)(T.CreateGalleryPhotoSuccess,Object(w.z)()),Z=Object(w.t)(T.GalleryPhotosStopLoading),J=Object(w.t)(T.ReorderGalleryPhotos,Object(w.z)()),nn=Object(w.t)(T.ReorderGalleryPhotosSuccess),en=Object(w.t)(T.ActivateManyGalleryPhotos,Object(w.z)()),tn=Object(w.t)(T.ActivateManyGalleryPhotosSuccess),ln=t("drq7"),on=t("9Bt9"),an=function(){function n(n,e,t,l,i,o){this.dialogRef=n,this.store$=e,this.actions$=t,this.navigatorService=l,this.attachmentService=i,this.isLoading=!0,this.destroyed$=new F.a,this.isMobile=!1,this.galleryPhoto=o}return n.prototype.ngOnInit=function(){var n=this;this.store$.pipe(Object(w.A)(Q),Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isLoading=e}),this.actions$.pipe(Object(L.d)(T.UpdateGalleryPhotoSuccess,T.CreateGalleryPhotoSuccess),Object(M.a)(this.destroyed$)).subscribe(function(){return n.dialogRef.close(!0)}),this.navigatorService.isMobile$.pipe(Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isMobile=e})},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n.prototype.submit=function(){this.store$.dispatch($({galleryPhoto:this.galleryPhoto}))},n.prototype.getThumbnailUrl=function(n,e){return void 0===n&&(n=500),this.attachmentService.getFileUrl(this.galleryPhoto.image_id,{thumbnail:{width:n,height:e}})},n.prototype.onKeyEnterUp=function(n){n.stopPropagation(),n.preventDefault()},n}(),rn=function(){function n(n){this.imageUrl=n}return n.prototype.ngOnInit=function(){},n}(),un=function(){function n(n,e,t,l,i,o,a){var r=this;this.navigatorService=n,this.store$=e,this.dialog=t,this.actions$=l,this.router=i,this.route=o,this.attachmentService=a,this.isMobile=!1,this.isSmallScreen=!1,this.destroyed$=new F.a,this.reorderMode=!1,this.activePhotos=!0,this.columnsToDisplay=["image","name","title","active","order","actions"],this.perPage=9999,e.pipe(Object(w.A)(Q),Object(M.a)(this.destroyed$)).subscribe(function(n){return r.isLoading=n}),e.pipe(Object(w.A)(U),Object(G.a)(function(n){return n&&n.per_page===r.perPage}),Object(M.a)(this.destroyed$)).subscribe(function(n){return r.galleryPhotos=n})}return n.prototype.ngOnInit=function(){var n=this;this.navigatorService.isMainContentMobile$.pipe(Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isMobile=e}),this.navigatorService.isMainContentSmallScreen$.pipe(Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isSmallScreen=e}),this.galleryPhotos=null,this.fetchGalleryPhotos()},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n.prototype.fetchGalleryPhotos=function(){this.store$.dispatch(N({pagination:{perPage:this.perPage,orderBy:{order:"asc"},whereConditions:[{field:"active",value:this.activePhotos}]}}))},n.prototype.delete=function(n){var e=this;this.dialog.open(ln.a,{data:{title:"Confirmation",text:"Are you sure you want to delete this Gallery Photo?",actions:[{label:"Cancel",returnValue:!1},{label:"Delete",returnValue:!0,color:"warn"}]}}).afterClosed().pipe(Object(j.a)(1),Object(G.a)(function(n){return!!n})).subscribe(function(){e.store$.dispatch(K({id:n.id})),e.actions$.pipe(Object(L.d)(T.DeleteGalleryPhotoSuccess),Object(G.a)(function(e){return e.id===n.id}),Object(j.a)(1)).subscribe(function(){return e.fetchGalleryPhotos()})})},n.prototype.getThumbnailUrl=function(n,e,t){return void 0===e&&(e=400),void 0===t&&(t=400),this.attachmentService.getFileUrl(n,{thumbnail:{width:e,height:t}})},n.prototype.disable=function(n){var e=this;n.active=!1,this.store$.dispatch($({galleryPhoto:n})),this.actions$.pipe(Object(L.d)(T.UpdateGalleryPhotoSuccess),Object(G.a)(function(e){return e.galleryPhoto.id===n.id}),Object(j.a)(1)).subscribe(function(){e.fetchGalleryPhotos()})},n.prototype.reorderPhotos=function(){var n=this,e=this.galleryPhotos.data.map(function(n){return n.id});this.store$.dispatch(J({ids:e})),this.actions$.pipe(Object(L.d)(T.ReorderGalleryPhotosSuccess),Object(j.a)(1)).subscribe(function(){return n.reorderMode=!1})},n.prototype.moveUp=function(n){var e=this.galleryPhotos.data.indexOf(n);e>0&&Object(on.j)(this.galleryPhotos.data,e,e-1)},n.prototype.moveDown=function(n){var e=this.galleryPhotos.data.indexOf(n);e<this.galleryPhotos.data.length-1&&Object(on.j)(this.galleryPhotos.data,e,e+1)},n.prototype.moveToTop=function(n){var e=this.galleryPhotos.data.indexOf(n);e>=0&&Object(on.j)(this.galleryPhotos.data,e,0)},n.prototype.edit=function(n){var e=this;this.dialog.open(an,{data:n}).afterClosed().pipe(Object(j.a)(1),Object(G.a)(function(n){return!!n})).subscribe(function(){return e.fetchGalleryPhotos()})},n.prototype.getAddRoute=function(){return"/gallery/add"},n.prototype.showDisabledPhotos=function(){this.activePhotos=!1,this.fetchGalleryPhotos()},n.prototype.activatePhotos=function(n){var e=this;if(n){var t=this.galleryPhotos.data.filter(function(n){return n.active}).map(function(n){return n.id});this.store$.dispatch(en({ids:t})),this.actions$.pipe(Object(L.d)(T.ActivateManyGalleryPhotosSuccess),Object(j.a)(1)).subscribe(function(){e.activePhotos=!0,e.fetchGalleryPhotos()})}else this.activePhotos=!0,this.fetchGalleryPhotos()},n.prototype.previewPhoto=function(n){var e=this.attachmentService.getFileUrl(n.image_id);this.dialog.open(rn,{data:e})},n}(),sn=t("LUfV"),cn=t("o3x0"),bn=t("DRxR"),dn=l.rb({encapsulation:0,styles:[[".photo-tools-bar[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#fff;background:rgba(0,0,0,.5);border-radius:10px}.gallery-photo[_ngcontent-%COMP%]{width:100%;border-radius:10px}.slideshow-icon[_ngcontent-%COMP%]{position:absolute;left:3px;top:3px;color:#8feaea;text-shadow:1px 1px rgba(0,0,0,.32)}.white-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(255,255,255,.5);cursor:pointer}.active-checkbox[_ngcontent-%COMP%]{position:absolute;left:10px;bottom:10px}.gallery-list[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.mat-menu-item[disabled][_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:rgba(0,0,0,.38)!important}"]],data:{}});function hn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Reorder"]))],null,null)}function gn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,8,"div",[["class","actions-top-bar-item"]],null,null,null,null,null)),(n()(),l.tb(1,16777216,null,null,7,"button",[["color","primary"],["mat-raised-button",""],["matTooltip","Reorder photos"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,3).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,3)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,3)._handleTouchend()&&i),"click"===e&&(i=0!=(o.reorderMode=!0)&&i),i},a.d,a.b)),l.sb(2,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{color:[0,"color"]},null),l.sb(3,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(5,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["reorder"])),(n()(),l.ib(16777216,null,0,1,null,hn)),l.sb(8,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,"primary"),n(e,3,0,"Reorder photos"),n(e,5,0),n(e,8,0,!t.isMobile)},function(n,e){n(e,1,0,l.Db(e,2).disabled||null,"NoopAnimations"===l.Db(e,2)._animationMode),n(e,4,0,l.Db(e,5).inline,"primary"!==l.Db(e,5).color&&"accent"!==l.Db(e,5).color&&"warn"!==l.Db(e,5).color)})}function fn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Disabled Photos"]))],null,null)}function mn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Refresh"]))],null,null)}function pn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Add Gallery Photos"]))],null,null)}function An(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,9,"div",[["class","actions-top-bar-item"]],null,null,null,null,null)),(n()(),l.tb(1,16777216,null,null,8,"a",[["color","primary"],["mat-raised-button",""],["matTooltip","Add Gallery Photos"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Db(n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),"click"===e&&(i=!1!==l.Db(n,3)._haltDisabledEvents(t)&&i),"longpress"===e&&(i=!1!==l.Db(n,4).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,4)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,4)._handleTouchend()&&i),i},a.c,a.a)),l.sb(2,671744,null,0,y.r,[y.o,y.a,A.h],{routerLink:[0,"routerLink"]},null),l.sb(3,180224,null,0,r.a,[u.e,l.k,[2,s.a]],{color:[0,"color"]},null),l.sb(4,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(6,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["add"])),(n()(),l.ib(16777216,null,0,1,null,pn)),l.sb(9,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,2,0,t.getAddRoute()),n(e,3,0,"primary"),n(e,4,0,"Add Gallery Photos"),n(e,6,0),n(e,9,0,!t.isMobile)},function(n,e){n(e,1,0,l.Db(e,2).target,l.Db(e,2).href,l.Db(e,3).disabled?-1:l.Db(e,3).tabIndex||0,l.Db(e,3).disabled||null,l.Db(e,3).disabled.toString(),"NoopAnimations"===l.Db(e,3)._animationMode),n(e,5,0,l.Db(e,6).inline,"primary"!==l.Db(e,6).color&&"accent"!==l.Db(e,6).color&&"warn"!==l.Db(e,6).color)})}function yn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,22,null,null,null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,gn)),l.sb(2,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.tb(3,0,null,null,8,"div",[["class","actions-top-bar-item"]],null,null,null,null,null)),(n()(),l.tb(4,16777216,null,null,7,"button",[["color","primary"],["mat-raised-button",""],["matTooltip","Disabled Photos"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,6).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,6)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,6)._handleTouchend()&&i),"click"===e&&(i=!1!==o.showDisabledPhotos()&&i),i},a.d,a.b)),l.sb(5,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{color:[0,"color"]},null),l.sb(6,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(7,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(8,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["visibility_off"])),(n()(),l.ib(16777216,null,0,1,null,fn)),l.sb(11,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(12,0,null,null,8,"div",[["class","actions-top-bar-item"]],null,null,null,null,null)),(n()(),l.tb(13,16777216,null,null,7,"button",[["color","primary"],["mat-raised-button",""],["matTooltip","Refresh"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,15).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,15)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,15)._handleTouchend()&&i),"click"===e&&(i=!1!==o.fetchGalleryPhotos()&&i),i},a.d,a.b)),l.sb(14,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{color:[0,"color"]},null),l.sb(15,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(16,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(17,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["refresh"])),(n()(),l.ib(16777216,null,0,1,null,mn)),l.sb(20,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,An)),l.sb(22,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.ib(0,null,null,0))],function(n,e){var t=e.component;n(e,2,0,"GalleryPhoto:u"),n(e,5,0,"primary"),n(e,6,0,"Disabled Photos"),n(e,8,0),n(e,11,0,!t.isMobile),n(e,14,0,"primary"),n(e,15,0,"Refresh"),n(e,17,0),n(e,20,0,!t.isMobile),n(e,22,0,"GalleryPhoto:c")},function(n,e){n(e,4,0,l.Db(e,5).disabled||null,"NoopAnimations"===l.Db(e,5)._animationMode),n(e,7,0,l.Db(e,8).inline,"primary"!==l.Db(e,8).color&&"accent"!==l.Db(e,8).color&&"warn"!==l.Db(e,8).color),n(e,13,0,l.Db(e,14).disabled||null,"NoopAnimations"===l.Db(e,14)._animationMode),n(e,16,0,l.Db(e,17).inline,"primary"!==l.Db(e,17).color&&"accent"!==l.Db(e,17).color&&"warn"!==l.Db(e,17).color)})}function vn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),l.tb(1,0,null,null,2,"button",[["class","actions-top-bar-item"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.reorderMode=!1)&&l),l},a.d,a.b)),l.sb(2,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),(n()(),l.Kb(-1,0,[" Cancel "])),(n()(),l.tb(4,0,null,null,2,"button",[["class","actions-top-bar-item"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.reorderPhotos()&&l),l},a.d,a.b)),l.sb(5,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{color:[0,"color"]},null),(n()(),l.Kb(-1,0,[" Save "]))],function(n,e){n(e,5,0,"primary")},function(n,e){n(e,1,0,l.Db(e,2).disabled||null,"NoopAnimations"===l.Db(e,2)._animationMode),n(e,4,0,l.Db(e,5).disabled||null,"NoopAnimations"===l.Db(e,5)._animationMode)})}function wn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,2,"button",[["class","actions-top-bar-item"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.activatePhotos(!0)&&l),l},a.d,a.b)),l.sb(1,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{color:[0,"color"]},null),(n()(),l.Kb(-1,0,[" Save "]))],function(n,e){n(e,1,0,"primary")},function(n,e){n(e,0,0,l.Db(e,1).disabled||null,"NoopAnimations"===l.Db(e,1)._animationMode)})}function Dn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),l.tb(1,0,null,null,2,"button",[["class","actions-top-bar-item"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.activatePhotos(!1)&&l),l},a.d,a.b)),l.sb(2,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),(n()(),l.Kb(-1,0,[" Back "])),(n()(),l.ib(16777216,null,null,1,null,wn)),l.sb(5,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.ib(0,null,null,0))],function(n,e){n(e,5,0,"GalleryPhoto:u")},function(n,e){n(e,1,0,l.Db(e,2).disabled||null,"NoopAnimations"===l.Db(e,2)._animationMode)})}function In(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,18,"div",[["class","photo-tools-bar"]],null,null,null,null,null)),(n()(),l.tb(1,16777216,null,null,5,"button",[["mat-icon-button",""],["matTooltip","Move up"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,3).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,3)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,3)._handleTouchend()&&i),"click"===e&&(i=!1!==o.moveUp(n.parent.context.$implicit)&&i),i},a.d,a.b)),l.sb(2,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(3,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(5,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["arrow_drop_up"])),(n()(),l.tb(7,16777216,null,null,5,"button",[["mat-icon-button",""],["matTooltip","Move down"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,9).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,9)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,9)._handleTouchend()&&i),"click"===e&&(i=!1!==o.moveDown(n.parent.context.$implicit)&&i),i},a.d,a.b)),l.sb(8,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(9,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(10,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(11,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["arrow_drop_down"])),(n()(),l.tb(13,16777216,null,null,5,"button",[["mat-icon-button",""],["matTooltip","Move to top"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,15).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,15)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,15)._handleTouchend()&&i),"click"===e&&(i=!1!==o.moveToTop(n.parent.context.$implicit)&&i),i},a.d,a.b)),l.sb(14,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(15,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(16,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(17,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["vertical_align_top"]))],function(n,e){n(e,3,0,"Move up"),n(e,5,0),n(e,9,0,"Move down"),n(e,11,0),n(e,15,0,"Move to top"),n(e,17,0)},function(n,e){n(e,1,0,l.Db(e,2).disabled||null,"NoopAnimations"===l.Db(e,2)._animationMode),n(e,4,0,l.Db(e,5).inline,"primary"!==l.Db(e,5).color&&"accent"!==l.Db(e,5).color&&"warn"!==l.Db(e,5).color),n(e,7,0,l.Db(e,8).disabled||null,"NoopAnimations"===l.Db(e,8)._animationMode),n(e,10,0,l.Db(e,11).inline,"primary"!==l.Db(e,11).color&&"accent"!==l.Db(e,11).color&&"warn"!==l.Db(e,11).color),n(e,13,0,l.Db(e,14).disabled||null,"NoopAnimations"===l.Db(e,14)._animationMode),n(e,16,0,l.Db(e,17).inline,"primary"!==l.Db(e,17).color&&"accent"!==l.Db(e,17).color&&"warn"!==l.Db(e,17).color)})}function xn(n){return l.Mb(0,[(n()(),l.tb(0,16777216,null,null,3,"mat-icon",[["class","slideshow-icon mat-icon notranslate"],["matTooltip","Shown in slider"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0;return"longpress"===e&&(i=!1!==l.Db(n,2).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,2)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,2)._handleTouchend()&&i),i},m.b,m.a)),l.sb(1,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),l.sb(2,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.Kb(-1,0,[" slideshow "])),(n()(),l.ib(0,null,null,0))],function(n,e){n(e,1,0),n(e,2,0,"Shown in slider")},function(n,e){n(e,0,0,l.Db(e,1).inline,"primary"!==l.Db(e,1).color&&"accent"!==l.Db(e,1).color&&"warn"!==l.Db(e,1).color)})}function Cn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,0,"div",[["class","white-overlay"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.parent.context.$implicit.active=!n.parent.context.$implicit.active)&&l),l},null,null))],null,null)}function _n(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,6,"div",[["class","active-checkbox"]],null,null,null,null,null)),(n()(),l.tb(1,0,null,null,5,"mat-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,t){var l=!0;return"ngModelChange"===e&&(l=!1!==(n.parent.context.$implicit.active=t)&&l),l},D.b,D.a)),l.sb(2,8568832,null,0,I.b,[l.k,l.h,u.e,l.B,[8,null],[2,I.a],[2,s.a]],{color:[0,"color"]},null),l.Hb(1024,null,x.q,function(n){return[n]},[I.b]),l.sb(4,671744,null,0,x.v,[[8,null],[8,null],[8,null],[6,x.q]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(6,16384,null,0,x.s,[[4,x.r]],null,null)],function(n,e){n(e,2,0,"primary"),n(e,4,0,e.parent.context.$implicit.active)},function(n,e){n(e,1,1,[l.Db(e,2).id,null,l.Db(e,2).indeterminate,l.Db(e,2).checked,l.Db(e,2).disabled,"before"==l.Db(e,2).labelPosition,"NoopAnimations"===l.Db(e,2)._animationMode,l.Db(e,6).ngClassUntouched,l.Db(e,6).ngClassTouched,l.Db(e,6).ngClassPristine,l.Db(e,6).ngClassDirty,l.Db(e,6).ngClassValid,l.Db(e,6).ngClassInvalid,l.Db(e,6).ngClassPending])})}function Bn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,4,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.edit(n.parent.parent.context.$implicit)&&l),l},a.d,a.b)),l.sb(1,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),(n()(),l.tb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(3,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["edit"]))],function(n,e){n(e,3,0)},function(n,e){n(e,0,0,l.Db(e,1).disabled||null,"NoopAnimations"===l.Db(e,1)._animationMode),n(e,2,0,l.Db(e,3).inline,"primary"!==l.Db(e,3).color&&"accent"!==l.Db(e,3).color&&"warn"!==l.Db(e,3).color)})}function Pn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,8,"div",[["class","photo-tools-bar"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,Bn)),l.sb(2,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.tb(3,16777216,null,null,5,"button",[["aria-haspopup","true"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(n,e,t){var i=!0;return"mousedown"===e&&(i=!1!==l.Db(n,5)._handleMousedown(t)&&i),"keydown"===e&&(i=!1!==l.Db(n,5)._handleKeydown(t)&&i),"click"===e&&(i=!1!==l.Db(n,5)._handleClick(t)&&i),i},a.d,a.b)),l.sb(4,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(5,1196032,null,0,C.g,[b.c,l.k,l.R,C.c,[2,C.d],[8,null],[2,g.b],u.e],{menu:[0,"menu"]},null),(n()(),l.tb(6,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(7,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["more_vert"]))],function(n,e){n(e,2,0,"GalleryPhoto:u"),n(e,5,0,l.Db(e.parent,14)),n(e,7,0)},function(n,e){n(e,3,0,l.Db(e,4).disabled||null,"NoopAnimations"===l.Db(e,4)._animationMode,l.Db(e,5).menuOpen||null),n(e,6,0,l.Db(e,7).inline,"primary"!==l.Db(e,7).color&&"accent"!==l.Db(e,7).color&&"warn"!==l.Db(e,7).color)})}function kn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,e,t){var i=!0,o=n.component;return"click"===e&&(i=!1!==l.Db(n,1)._checkDisabled(t)&&i),"mouseenter"===e&&(i=!1!==l.Db(n,1)._handleMouseEnter()&&i),"click"===e&&(i=!1!==o.disable(n.parent.context.$implicit)&&i),i},_.c,_.a)),l.sb(1,180224,[[2,4]],0,C.e,[l.k,A.d,u.e,[2,C.b]],{disabled:[0,"disabled"]},null),(n()(),l.tb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(3,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["visibility_off"])),(n()(),l.Kb(-1,0,[" Disable "]))],function(n,e){n(e,1,0,!e.component.activePhotos),n(e,3,0)},function(n,e){n(e,0,0,l.Db(e,1).role,l.Db(e,1)._highlighted,l.Db(e,1)._triggersSubmenu,l.Db(e,1)._getTabIndex(),l.Db(e,1).disabled.toString(),l.Db(e,1).disabled||null),n(e,2,0,l.Db(e,3).inline,"primary"!==l.Db(e,3).color&&"accent"!==l.Db(e,3).color&&"warn"!==l.Db(e,3).color)})}function Sn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,e,t){var i=!0,o=n.component;return"click"===e&&(i=!1!==l.Db(n,1)._checkDisabled(t)&&i),"mouseenter"===e&&(i=!1!==l.Db(n,1)._handleMouseEnter()&&i),"click"===e&&(i=!1!==o.delete(n.parent.context.$implicit)&&i),i},_.c,_.a)),l.sb(1,180224,[[2,4]],0,C.e,[l.k,A.d,u.e,[2,C.b]],null,null),(n()(),l.tb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["color","warn"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(3,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],{color:[0,"color"]},null),(n()(),l.Kb(-1,0,["delete"])),(n()(),l.Kb(-1,0,[" Delete "]))],function(n,e){n(e,3,0,"warn")},function(n,e){n(e,0,0,l.Db(e,1).role,l.Db(e,1)._highlighted,l.Db(e,1)._triggersSubmenu,l.Db(e,1)._getTabIndex(),l.Db(e,1).disabled.toString(),l.Db(e,1).disabled||null),n(e,2,0,l.Db(e,3).inline,"primary"!==l.Db(e,3).color&&"accent"!==l.Db(e,3).color&&"warn"!==l.Db(e,3).color)})}function On(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,29,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,B.d,B.b)),l.sb(1,49152,[[1,4]],0,P.c,[l.k,[2,P.e]],null,null),(n()(),l.tb(2,0,null,0,27,"div",[],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,In)),l.sb(4,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,xn)),l.sb(6,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Cn)),l.sb(8,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,_n)),l.sb(10,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Pn)),l.sb(12,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(13,0,null,null,15,"mat-menu",[],null,null,null,_.d,_.b)),l.sb(14,1294336,[["menu",4]],2,C.h,[l.k,l.B,C.a],null,null),l.Ib(603979776,2,{items:1}),l.Ib(603979776,3,{lazyContent:0}),l.Hb(2048,null,C.d,null,[C.h]),l.Hb(2048,null,C.b,null,[C.d]),(n()(),l.tb(19,0,null,0,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,e,t){var i=!0,o=n.component;return"click"===e&&(i=!1!==l.Db(n,20)._checkDisabled(t)&&i),"mouseenter"===e&&(i=!1!==l.Db(n,20)._handleMouseEnter()&&i),"click"===e&&(i=!1!==o.previewPhoto(n.context.$implicit)&&i),i},_.c,_.a)),l.sb(20,180224,[[2,4]],0,C.e,[l.k,A.d,u.e,[2,C.b]],null,null),(n()(),l.tb(21,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(22,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["pageview"])),(n()(),l.Kb(-1,0,[" Preview "])),(n()(),l.ib(16777216,null,0,1,null,kn)),l.sb(26,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.ib(16777216,null,0,1,null,Sn)),l.sb(28,16384,null,0,v.a,[l.O,l.R,w.n],{appHasPermission:[0,"appHasPermission"]},null),(n()(),l.tb(29,0,null,null,0,"img",[["class","gallery-photo"]],[[8,"src",4],[8,"alt",0]],null,null,null,null))],function(n,e){var t=e.component;n(e,4,0,t.reorderMode),n(e,6,0,e.context.$implicit.slider),n(e,8,0,!e.context.$implicit.active),n(e,10,0,!t.activePhotos&&!t.isLoading),n(e,12,0,!t.reorderMode),n(e,14,0),n(e,22,0),n(e,26,0,"GalleryPhoto:u"),n(e,28,0,"GalleryPhoto:d")},function(n,e){var t=e.component;n(e,19,0,l.Db(e,20).role,l.Db(e,20)._highlighted,l.Db(e,20)._triggersSubmenu,l.Db(e,20)._getTabIndex(),l.Db(e,20).disabled.toString(),l.Db(e,20).disabled||null),n(e,21,0,l.Db(e,22).inline,"primary"!==l.Db(e,22).color&&"accent"!==l.Db(e,22).color&&"warn"!==l.Db(e,22).color),n(e,29,0,t.getThumbnailUrl(e.context.$implicit.image_id),l.vb(1,"image ",e.context.$implicit.image_id,""))})}function En(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,6,"div",[["class","gallery-list"]],null,null,null,null,null)),(n()(),l.tb(1,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["gutterSize","5px"]],null,null,null,B.c,B.a)),l.Hb(6144,null,P.e,null,[P.a]),l.sb(3,2211840,null,1,P.a,[l.k,[2,g.b]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"]},null),l.Ib(603979776,1,{_tiles:1}),(n()(),l.ib(16777216,null,0,1,null,On)),l.sb(6,278528,null,0,A.j,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(n,e){var t=e.component;n(e,3,0,t.isMobile?2:t.isSmallScreen?4:5,"5px"),n(e,6,0,t.galleryPhotos.data)},null)}function Mn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,2,"div",[["style","text-align: center"]],null,null,null,null,null)),(n()(),l.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["No Results"]))],null,null)}function Gn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,k.b,k.a)),l.sb(1,114688,null,0,S.a,[],{shown:[0,"shown"]},null),(n()(),l.tb(2,0,null,null,13,"div",[["class","main-scrollable-content"]],null,null,null,null,null)),(n()(),l.tb(3,0,null,null,8,"div",[["class","actions-top-bar"],["fxLayout","row grid"],["fxLayoutAlign","end"]],null,null,null,null,null)),l.sb(4,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(5,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.ib(16777216,null,null,1,null,yn)),l.sb(7,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,vn)),l.sb(9,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Dn)),l.sb(11,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,En)),l.sb(13,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Mn)),l.sb(15,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,t.isLoading),n(e,4,0,"row grid"),n(e,5,0,"end"),n(e,7,0,!t.reorderMode&&t.activePhotos),n(e,9,0,t.reorderMode),n(e,11,0,!t.activePhotos),n(e,13,0,t.galleryPhotos&&t.galleryPhotos.data.length),n(e,15,0,t.galleryPhotos&&!t.galleryPhotos.data.length&&!t.isLoading)},null)}function jn(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-gallery-list",[],null,null,null,Gn,dn)),l.sb(1,245760,null,0,un,[sn.a,w.n,cn.e,L.a,y.o,y.a,bn.a],null,null)],function(n,e){n(e,1,0)},null)}var Fn=l.pb("app-gallery-list",un,jn,{},{},[]),Ln=function(){function n(){this.filesDropped=new l.n,this.background="#f5fcff",this.opacity="1"}return n.prototype.onDragOver=function(n){n.preventDefault(),n.stopPropagation(),this.background="#9ecbec",this.opacity="0.8"},n.prototype.onDragLeave=function(n){n.preventDefault(),n.stopPropagation(),this.background="#f5fcff",this.opacity="1"},n.prototype.ondrop=function(n){n.preventDefault(),n.stopPropagation(),this.background="#f5fcff",this.opacity="1";var e=n.dataTransfer.files;e.length>0&&this.filesDropped.emit(e)},n}(),Rn=t("dJrM"),Un=t("seP3"),Qn=t("Wf4p"),Tn=t("b716"),Nn=t("/VYK"),Hn=t("mrSG"),qn=function(){function n(n,e,t,l){this.navigatorService=n,this.store$=e,this.actions$=t,this.imageService=l,this.images=[],this.isMobile=!1,this.isSmallScreen=!1,this.destroyed$=new F.a,this.galleryPhoto={slider:!1,active:!0,title:""},this.placeFirst=!1,this.isLoading=!1}return n.prototype.onFileInputChange=function(n){this.uploadFiles(n.target.files)},n.prototype.processNextImage=function(){var n=this,e=this.images.filter(function(n){return n.isLoading});if(e.length){var t=e[0];this.imageService.resizeImage(t.file,1600,1600).subscribe(function(e){var l=new File([e],e.name,{type:"image/jpeg"}),i=new FileReader;i.onload=function(){var e=i.result;delete t.file,t.file=l,t.imageSrc=e,t.isLoading=!1,n.processNextImage()},i.readAsDataURL(l)})}},n.prototype.uploadFiles=function(n){var e,t;try{for(var l=Hn.h(Array.from(n)),i=l.next();!i.done;i=l.next()){var o=i.value;null!=o.type.match(/image\/*/)&&this.images.push({file:o,isLoading:!0})}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}this.processNextImage()},n.prototype.removeImage=function(n){this.images.splice(n,1)},n.prototype.ngOnInit=function(){var n=this;this.navigatorService.isMainContentMobile$.pipe(Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isMobile=e}),this.navigatorService.isMainContentSmallScreen$.pipe(Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isSmallScreen=e}),this.store$.pipe(Object(w.A)(Q),Object(M.a)(this.destroyed$)).subscribe(function(e){return n.isLoading=e})},n.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},n.prototype.submit=function(){var n=this;this.placeFirst&&(this.galleryPhoto.order=1);var e=this.images.map(function(n){return n.file});this.store$.dispatch(Y({galleryPhoto:this.galleryPhoto,images:e})),this.actions$.pipe(Object(L.d)(T.CreateGalleryPhotoSuccess),Object(j.a)(1)).subscribe(function(){return n.navigatorService.navigateToUrl(n.getGalleryListUrl())})},n.prototype.getGalleryListUrl=function(){return"/gallery"},n.prototype.anyImageLoading=function(){return this.images.some(function(n){return n.isLoading})},n}(),zn=t("b0Xh"),Kn=function(){function n(){}return n.prototype.getOrientedImage=function(n){return new Promise(function(e,t){var l;zn||((zn={}).getData=function(e,t){return t.call(n),!0},zn.getTag=function(){return!1}),zn.getData(n,function(){var t=zn.getTag(n,"Orientation");if(1!=t){var i=document.createElement("canvas"),o=i.getContext("2d"),a=n.width,r=n.height,u=0,s=0,c=0;switch(t){case 3:case 4:u=-n.width,s=-n.height,c=180;break;case 5:case 6:a=n.height,r=n.width,s=-n.height,c=90;break;case 7:case 8:a=n.height,r=n.width,u=-n.width,c=270}i.width=a,i.height=r,[2,4,5,7].indexOf(t)>-1&&(o.translate(a,0),o.scale(-1,1)),o.rotate(c*Math.PI/180),o.drawImage(n,u,s),(l=document.createElement("img")).width=a,l.height=r,l.addEventListener("load",function(){e(l)}),l.src=i.toDataURL("image/png")}else e(n)})})},n}(),Wn=function(){function n(n){this.imageExifService=n}return n.prototype.compressImage=function(n,e,t,l){var i=this;void 0===t&&(t=!1),void 0===l&&(l=!1);var o=new F.a;if(this.timeAtStart=(new Date).getTime(),this.initialFile=n,"image/jpeg"!==n.type&&"image/png"!==n.type)return setTimeout(function(){o.error({compressedFile:n,reason:"File provided is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),o.asObservable();if(n.size/1024/1024<e)return setTimeout(function(){o.next(n)},0),o.asObservable();var a=document.createElement("canvas"),r=a.getContext("2d"),u=new Image,s=this;return u.onload=function(){i.imageExifService.getOrientedImage(u).then(function(c){window.URL.revokeObjectURL(u.src),a.width=c.width,a.height=c.height,r.drawImage(c,0,0);var b=r.getImageData(0,0,c.width,c.height);"image/png"===n.type&&i.isImgUsingAlpha(b)&&!t&&o.error({compressedFile:n,reason:"File provided is a png image which uses the alpha channel. No compression possible.",error:"PNG_WITH_ALPHA"}),(r=a.getContext("2d",{alpha:!1})).drawImage(c,0,0),s.getCompressedFile(a,50,e,1).then(function(n){o.next(n),s.logExecutionTime(l)}).catch(function(n){o.error(n),s.logExecutionTime(l)})})},u.src=window.URL.createObjectURL(n),o.asObservable()},n.prototype.getCompressedFile=function(n,e,t,l){var i=this;return new Promise(function(o,a){n.toBlob(function(r){if(l+1>15)a({compressedFile:i.getResultFile(r),reason:"Could not find the correct compression quality in 15 steps.",error:"MAX_STEPS_EXCEEDED"});else{var u=i.getCalculatedQuality(r,e,t,l);i.checkCompressionStatus(n,r,e,t,l,u).then(function(n){o(n)}).catch(function(n){a(n)})}},"image/jpeg",e/100)})},n.prototype.getResultFile=function(n){return this.generateResultFile(n,this.initialFile.name,this.initialFile.type,(new Date).getTime())},n.prototype.generateResultFile=function(n,e,t,l){var i=new Blob([n],{type:t});return this.blobToFile(i,e,l)},n.prototype.blobToFile=function(n,e,t){var l=n;return l.name=e,l.lastModified=t,l},n.prototype.getCalculatedQuality=function(n,e,t,l){var i=n.size/1024/1024,o=t/i;o>5&&(o=5);var a=i/(this.initialFile.size/1024/1024);a<.05&&(a=.05);var r=0,u=10*Math.abs(a-1)/(1.7*l)/o;return u<1&&(u=1),(r=o>=1?e+10*(o-1)*u:e-10*(1-o)*u)>100&&(r=e+(100-e)/2),r<0&&(r=e-e/2),r},n.prototype.checkCompressionStatus=function(n,e,t,l,i,o){var a=this;return new Promise(function(r,u){100===t&&o>=100?u({compressedFile:a.initialFile,reason:"Unfortunately there was an error while compressing the file.",error:"FILE_BIGGER_THAN_INITIAL_FILE"}):t<1&&o<t?u({compressedFile:a.getResultFile(e),reason:"Could not compress image enough to fit the maximal file size limit.",error:"UNABLE_TO_COMPRESS_ENOUGH"}):o>t&&Math.round(t)==Math.round(o)?r(a.getResultFile(e)):i>5&&o>t&&o<t+2?r(a.getResultFile(e)):o>t&&Number.isInteger(t)&&Math.floor(o)==t?r(a.getResultFile(e)):(t>o&&Math.round(t)==Math.round(o)&&(o=Math.round(o)-1),r(a.getCompressedFile(n,o,l,i+1)))})},n.prototype.isImgUsingAlpha=function(n){for(var e=0;e<n.data.length;e+=4)if(255!==n.data[e+3])return!0;return!1},n.prototype.logExecutionTime=function(n){n&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},n}(),$n=t("gkvR"),Vn=t.n($n),Yn=t("b0Xh"),Xn=function(){function n(){}return n.prototype.getOrientedImage=function(n){return new Promise(function(e,t){var l;Yn||((Yn={}).getData=function(e,t){return t.call(n),!0},Yn.getTag=function(){return!1}),Yn.getData(n,function(){var t=Yn.getTag(n,"Orientation");if(1!=t){var i=document.createElement("canvas"),o=i.getContext("2d"),a=n.width,r=n.height,u=0,s=0,c=0;switch(t){case 3:case 4:u=-n.width,s=-n.height,c=180;break;case 5:case 6:a=n.height,r=n.width,s=-n.height,c=90;break;case 7:case 8:a=n.height,r=n.width,u=-n.width,c=270}i.width=a,i.height=r,[2,4,5,7].indexOf(t)>-1&&(o.translate(a,0),o.scale(-1,1)),o.rotate(c*Math.PI/180),o.drawImage(n,u,s),(l=document.createElement("img")).width=a,l.height=r,l.addEventListener("load",function(){e(l)}),l.src=i.toDataURL("image/png")}else e(n)})})},n}(),Zn=function(){function n(n){this.imageExifService=n}return n.prototype.resize=function(n,e,t,l){void 0===l&&(l=!1);for(var i=new F.a,o=0;o<n.length;o++)this.resizeFile(n[o],e,t,l).then(function(n){i.next(n)}).catch(function(n){i.error(n)});return i.asObservable()},n.prototype.resizeCanvas=function(n,e,t){return new Promise(function(l,i){var o=new Vn.a;o&&o.resize||(o=new window.pica),o.resize(n,e,t).then(function(n){l(n)},function(n){i(n)})})},n.prototype.resizeBuffer=function(n){return new Promise(function(e,t){var l=new Vn.a;l&&l.resizeBuffer||(l=new window.pica),l.resizeBuffer(n).then(function(n){e(n)},function(n){t(n)})})},n.prototype.resizeFile=function(n,e,t,l){var i=this;return void 0===l&&(l=!1),new Promise(function(o,a){var r=document.createElement("canvas"),u=r.getContext("2d"),s=new Image;s.onload=function(){i.imageExifService.getOrientedImage(s).then(function(c){window.URL.revokeObjectURL(s.src),r.width=c.width,r.height=c.height,u.drawImage(c,0,0);var b=u.getImageData(0,0,c.width,c.height);if(l){var d=Math.min(e/b.width,t/b.height);e=Math.round(b.width*d),t=Math.round(b.height*d)}var h=!0;("image/jpeg"===n.type||"image/png"===n.type&&!i.isImgUsingAlpha(b))&&(h=!1,(u=r.getContext("2d",{alpha:!1})).drawImage(c,0,0));var g=document.createElement("canvas");g.width=e,g.height=t,i.resizeCanvas(r,g,{alpha:h}).then(function(e){e.toBlob(function(e){var t=i.generateResultFile(e,n.name,n.type,(new Date).getTime());o(t)},n.type)}).catch(function(n){a(n)})})},s.src=window.URL.createObjectURL(n)})},n.prototype.isImgUsingAlpha=function(n){for(var e=0;e<n.data.length;e+=4)if(255!==n.data[e+3])return!0;return!1},n.prototype.generateResultFile=function(n,e,t,l){var i=new Blob([n],{type:t});return this.blobToFile(i,e,l)},n.prototype.blobToFile=function(n,e,t){var l=n;return l.name=e,l.lastModified=t,l},n}(),Jn=function(){return function(){}}(),ne=function(){function n(n,e){this.ng2PicaService=n,this.imageExifService=e}return n.prototype.resizeImage=function(n,e,t,l){var i=this;void 0===l&&(l=!1);var o=new F.a;if(this.timeAtStart=(new Date).getTime(),"image/jpeg"!==n.type&&"image/png"!==n.type)return setTimeout(function(){o.error({resizedFile:n,reason:"The provided File is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),o.asObservable();var a=new Image,r=this;return a.onload=function(){i.imageExifService.getOrientedImage(a).then(function(i){window.URL.revokeObjectURL(a.src);var u=i.width,s=i.height,c=u,b=s;c>e&&(c=e,b*=e/u),s=b,b>t&&(b=t,c*=t/s),b===i.height&&c===i.width?(o.next(n),r.logExecutionTime(l)):r.ng2PicaService.resize([n],c,b).subscribe(function(n){o.next(n),r.logExecutionTime(l)},function(e){o.error({resizedFile:n,reason:e,error:"PICA_ERROR"}),r.logExecutionTime(l)})})},a.src=window.URL.createObjectURL(n),o.asObservable()},n.prototype.logExecutionTime=function(n){n&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},n}(),ee=function(){function n(n,e,t){this.imgMaxSizeService=n,this.imgMaxPXSizeService=e,this.imageExifService=t}return n.prototype.compress=function(n,e,t,l){var i=this;void 0===t&&(t=!1),void 0===l&&(l=!1);var o=new F.a;return n.forEach(function(n){i.compressImage(n,e,t,l).subscribe(function(n){o.next(n)},function(n){o.error(n)})}),o.asObservable()},n.prototype.resize=function(n,e,t,l){var i=this;void 0===l&&(l=!1);var o=new F.a;return n.forEach(function(n){i.resizeImage(n,e,t,l).subscribe(function(n){o.next(n)},function(n){o.error(n)})}),o.asObservable()},n.prototype.compressImage=function(n,e,t,l){return void 0===t&&(t=!1),void 0===l&&(l=!1),this.imgMaxSizeService.compressImage(n,e,t,l)},n.prototype.resizeImage=function(n,e,t,l){return void 0===l&&(l=!1),this.imgMaxPXSizeService.resizeImage(n,e,t,l)},n.prototype.getEXIFOrientedImage=function(n){return this.imageExifService.getOrientedImage(n)},n}(),te=l.rb({encapsulation:0,styles:[[".drop-files-container[_ngcontent-%COMP%]{border:2px dotted;border-radius:30px;margin:20px}.drop-files-button[_ngcontent-%COMP%]{border:2px dashed #988f8f;border-radius:20px;margin:20px;width:200px;height:200px;text-align:center;padding:15px;cursor:pointer;max-height:90%;max-width:90%}.drop-files-button[_ngcontent-%COMP%]:hover{background:#f3f1f1}.gallery-photo[_ngcontent-%COMP%]{width:100%}mat-grid-list[_ngcontent-%COMP%]{margin:10px}.delete-button[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;right:0;background:#fff;border:1px solid #fff;border-radius:25%}"]],data:{}});function le(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,13,"div",[["appDragDropFiles",""],["class","drop-files-container"],["fxFlex",""],["fxLayout","row"],["fxLayoutAlign","center center"]],[[4,"background-color",null],[4,"opacity",null]],[[null,"filesDropped"],[null,"dragover"],[null,"dragleave"],[null,"drop"]],function(n,e,t){var i=!0,o=n.component;return"dragover"===e&&(i=!1!==l.Db(n,4).onDragOver(t)&&i),"dragleave"===e&&(i=!1!==l.Db(n,4).onDragLeave(t)&&i),"drop"===e&&(i=!1!==l.Db(n,4).ondrop(t)&&i),"filesDropped"===e&&(i=!1!==o.uploadFiles(t)&&i),i},null,null)),l.sb(1,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(2,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),l.sb(3,671744,null,0,O.b,[l.k,E.i,E.e,O.h,E.f],{fxFlex:[0,"fxFlex"]},null),l.sb(4,16384,null,0,Ln,[],null,{filesDropped:"filesDropped"}),(n()(),l.tb(5,0,null,null,8,"div",[["class","drop-files-button"],["fxLayout","column"],["fxLayoutAlign","center center"],["fxLayoutGap","3px"]],null,[[null,"click"]],function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Db(n.parent,6).click()&&i),i},null,null)),l.sb(6,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(7,1720320,null,0,O.e,[l.k,l.B,g.b,E.i,[2,O.j],E.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),l.sb(8,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.tb(9,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(10,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["add"])),(n()(),l.tb(12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Drop files here or click to select"]))],function(n,e){n(e,1,0,"row"),n(e,2,0,"center center"),n(e,3,0,""),n(e,6,0,"column"),n(e,7,0,"3px"),n(e,8,0,"center center"),n(e,10,0)},function(n,e){n(e,0,0,l.Db(e,4).background,l.Db(e,4).opacity),n(e,9,0,l.Db(e,10).inline,"primary"!==l.Db(e,10).color&&"accent"!==l.Db(e,10).color&&"warn"!==l.Db(e,10).color)})}function ie(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,0,"img",[["class","gallery-photo"]],[[8,"src",4],[8,"alt",0],[4,"width",null]],null,null,null,null))],null,function(n,e){n(e,0,0,e.parent.context.$implicit.imageSrc,l.vb(1,"image ",e.parent.context.$implicit.file.name,""),"100%")})}function oe(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,9,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,B.d,B.b)),l.sb(1,49152,[[10,4]],0,P.c,[l.k,[2,P.e]],null,null),(n()(),l.ib(16777216,null,0,1,null,ie)),l.sb(3,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(4,0,null,0,1,"app-loading-spinner",[],null,null,null,k.b,k.a)),l.sb(5,114688,null,0,S.a,[],{shown:[0,"shown"],blackOverlay:[1,"blackOverlay"],diameter:[2,"diameter"]},null),(n()(),l.tb(6,16777216,null,0,3,"mat-icon",[["class","delete-button mat-icon notranslate"],["matTooltip","Remove"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0,o=n.component;return"longpress"===e&&(i=!1!==l.Db(n,8).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,8)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,8)._handleTouchend()&&i),"click"===e&&(i=!1!==o.removeImage(n.context.index)&&i),i},m.b,m.a)),l.sb(7,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),l.sb(8,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.Kb(-1,0,["clear"]))],function(n,e){n(e,3,0,e.context.$implicit.imageSrc),n(e,5,0,e.context.$implicit.isLoading,!1,50),n(e,7,0),n(e,8,0,"Remove")},function(n,e){n(e,6,0,l.Db(e,7).inline,"primary"!==l.Db(e,7).color&&"accent"!==l.Db(e,7).color&&"warn"!==l.Db(e,7).color)})}function ae(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,55,"div",[],null,null,null,null,null)),(n()(),l.tb(1,0,null,null,40,"div",[["class","actions-top-bar"],["fxLayout","row grid"],["fxLayoutAlign","start center"],["fxLayoutGap","10px"]],[[4,"padding","px"]],null,null,null,null)),l.sb(2,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(3,1720320,null,0,O.e,[l.k,l.B,g.b,E.i,[2,O.j],E.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),l.sb(4,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),l.tb(5,0,null,null,19,"mat-form-field",[["class","mat-form-field"],["fxFlex",""]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Rn.b,Rn.a)),l.sb(6,7520256,null,9,Un.c,[l.k,l.h,[2,Qn.h],[2,g.b],[2,Un.a],h.a,l.B,[2,s.a]],null,null),l.Ib(603979776,1,{_controlNonStatic:0}),l.Ib(335544320,2,{_controlStatic:0}),l.Ib(603979776,3,{_labelChildNonStatic:0}),l.Ib(335544320,4,{_labelChildStatic:0}),l.Ib(603979776,5,{_placeholderChild:0}),l.Ib(603979776,6,{_errorChildren:1}),l.Ib(603979776,7,{_hintChildren:1}),l.Ib(603979776,8,{_prefixChildren:1}),l.Ib(603979776,9,{_suffixChildren:1}),l.sb(16,671744,null,0,O.b,[l.k,E.i,E.e,O.h,E.f],{fxFlex:[0,"fxFlex"]},null),(n()(),l.tb(17,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var i=!0,o=n.component;return"input"===e&&(i=!1!==l.Db(n,18)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l.Db(n,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==l.Db(n,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l.Db(n,18)._compositionEnd(t.target.value)&&i),"blur"===e&&(i=!1!==l.Db(n,23)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==l.Db(n,23)._focusChanged(!0)&&i),"input"===e&&(i=!1!==l.Db(n,23)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.galleryPhoto.title=t)&&i),i},null,null)),l.sb(18,16384,null,0,x.e,[l.G,l.k,[2,x.a]],null,null),l.Hb(1024,null,x.q,function(n){return[n]},[x.e]),l.sb(20,671744,null,0,x.v,[[8,null],[8,null],[8,null],[6,x.q]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(22,16384,null,0,x.s,[[4,x.r]],null,null),l.sb(23,999424,null,0,Tn.a,[l.k,h.a,[6,x.r],[2,x.u],[2,x.l],Qn.b,[8,null],Nn.a,l.B],{placeholder:[0,"placeholder"]},null),l.Hb(2048,[[1,4],[2,4]],Un.d,null,[Tn.a]),(n()(),l.tb(25,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,t){var l=!0;return"ngModelChange"===e&&(l=!1!==(n.component.galleryPhoto.active=t)&&l),l},D.b,D.a)),l.sb(26,8568832,null,0,I.b,[l.k,l.h,u.e,l.B,[8,null],[2,I.a],[2,s.a]],{color:[0,"color"]},null),l.Hb(1024,null,x.q,function(n){return[n]},[I.b]),l.sb(28,671744,null,0,x.v,[[8,null],[8,null],[8,null],[6,x.q]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(30,16384,null,0,x.s,[[4,x.r]],null,null),(n()(),l.Kb(-1,0,["Active"])),(n()(),l.tb(32,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,t){var l=!0;return"ngModelChange"===e&&(l=!1!==(n.component.galleryPhoto.slider=t)&&l),l},D.b,D.a)),l.sb(33,8568832,null,0,I.b,[l.k,l.h,u.e,l.B,[8,null],[2,I.a],[2,s.a]],{color:[0,"color"]},null),l.Hb(1024,null,x.q,function(n){return[n]},[I.b]),l.sb(35,671744,null,0,x.v,[[8,null],[8,null],[8,null],[6,x.q]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(37,16384,null,0,x.s,[[4,x.r]],null,null),(n()(),l.Kb(-1,0,["Slider"])),(n()(),l.tb(39,0,null,null,2,"button",[["class","actions-top-bar-item"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.submit()&&l),l},a.d,a.b)),l.sb(40,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.Kb(-1,0,[" Submit "])),(n()(),l.tb(42,0,null,null,13,"mat-grid-list",[["class","mat-grid-list"],["gutterSize","10px"]],null,null,null,B.c,B.a)),l.Hb(6144,null,P.e,null,[P.a]),l.sb(44,2211840,null,1,P.a,[l.k,[2,g.b]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"]},null),l.Ib(603979776,10,{_tiles:1}),(n()(),l.ib(16777216,null,0,1,null,oe)),l.sb(47,278528,null,0,A.j,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(n()(),l.tb(48,0,null,0,7,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,B.d,B.b)),l.sb(49,49152,[[10,4]],0,P.c,[l.k,[2,P.e]],null,null),(n()(),l.tb(50,16777216,null,0,5,"button",[["mat-icon-button",""],["mat-raised-button",""],["matTooltip","Add more"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,e,t){var i=!0;return"longpress"===e&&(i=!1!==l.Db(n,52).show()&&i),"keydown"===e&&(i=!1!==l.Db(n,52)._handleKeydown(t)&&i),"touchend"===e&&(i=!1!==l.Db(n,52)._handleTouchend()&&i),"click"===e&&(i=!1!==l.Db(n.parent,6).click()&&i),i},a.d,a.b)),l.sb(51,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(52,212992,null,0,c.d,[b.c,l.k,d.b,l.R,l.B,h.a,u.c,u.e,c.b,[2,g.b],[2,c.a],[2,f.f]],{message:[0,"message"]},null),(n()(),l.tb(53,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(54,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["add"]))],function(n,e){var t=e.component;n(e,2,0,"row grid"),n(e,3,0,"10px"),n(e,4,0,"start center"),n(e,16,0,""),n(e,20,0,t.galleryPhoto.title),n(e,23,0,"Title"),n(e,26,0,"primary"),n(e,28,0,t.galleryPhoto.active),n(e,33,0,"primary"),n(e,35,0,t.galleryPhoto.slider),n(e,40,0,t.anyImageLoading(),"primary"),n(e,44,0,t.isMobile?3:t.isSmallScreen?5:8,"10px"),n(e,47,0,t.images),n(e,52,0,"Add more"),n(e,54,0)},function(n,e){n(e,1,0,10),n(e,5,1,["standard"==l.Db(e,6).appearance,"fill"==l.Db(e,6).appearance,"outline"==l.Db(e,6).appearance,"legacy"==l.Db(e,6).appearance,l.Db(e,6)._control.errorState,l.Db(e,6)._canLabelFloat,l.Db(e,6)._shouldLabelFloat(),l.Db(e,6)._hasFloatingLabel(),l.Db(e,6)._hideControlPlaceholder(),l.Db(e,6)._control.disabled,l.Db(e,6)._control.autofilled,l.Db(e,6)._control.focused,"accent"==l.Db(e,6).color,"warn"==l.Db(e,6).color,l.Db(e,6)._shouldForward("untouched"),l.Db(e,6)._shouldForward("touched"),l.Db(e,6)._shouldForward("pristine"),l.Db(e,6)._shouldForward("dirty"),l.Db(e,6)._shouldForward("valid"),l.Db(e,6)._shouldForward("invalid"),l.Db(e,6)._shouldForward("pending"),!l.Db(e,6)._animationsEnabled]),n(e,17,1,[l.Db(e,22).ngClassUntouched,l.Db(e,22).ngClassTouched,l.Db(e,22).ngClassPristine,l.Db(e,22).ngClassDirty,l.Db(e,22).ngClassValid,l.Db(e,22).ngClassInvalid,l.Db(e,22).ngClassPending,l.Db(e,23)._isServer,l.Db(e,23).id,l.Db(e,23).placeholder,l.Db(e,23).disabled,l.Db(e,23).required,l.Db(e,23).readonly&&!l.Db(e,23)._isNativeSelect||null,l.Db(e,23)._ariaDescribedby||null,l.Db(e,23).errorState,l.Db(e,23).required.toString()]),n(e,25,1,[l.Db(e,26).id,null,l.Db(e,26).indeterminate,l.Db(e,26).checked,l.Db(e,26).disabled,"before"==l.Db(e,26).labelPosition,"NoopAnimations"===l.Db(e,26)._animationMode,l.Db(e,30).ngClassUntouched,l.Db(e,30).ngClassTouched,l.Db(e,30).ngClassPristine,l.Db(e,30).ngClassDirty,l.Db(e,30).ngClassValid,l.Db(e,30).ngClassInvalid,l.Db(e,30).ngClassPending]),n(e,32,1,[l.Db(e,33).id,null,l.Db(e,33).indeterminate,l.Db(e,33).checked,l.Db(e,33).disabled,"before"==l.Db(e,33).labelPosition,"NoopAnimations"===l.Db(e,33)._animationMode,l.Db(e,37).ngClassUntouched,l.Db(e,37).ngClassTouched,l.Db(e,37).ngClassPristine,l.Db(e,37).ngClassDirty,l.Db(e,37).ngClassValid,l.Db(e,37).ngClassInvalid,l.Db(e,37).ngClassPending]),n(e,39,0,l.Db(e,40).disabled||null,"NoopAnimations"===l.Db(e,40)._animationMode),n(e,50,0,l.Db(e,51).disabled||null,"NoopAnimations"===l.Db(e,51)._animationMode),n(e,53,0,l.Db(e,54).inline,"primary"!==l.Db(e,54).color&&"accent"!==l.Db(e,54).color&&"warn"!==l.Db(e,54).color)})}function re(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,k.b,k.a)),l.sb(1,114688,null,0,S.a,[],{shown:[0,"shown"]},null),(n()(),l.ib(16777216,null,null,1,null,le)),l.sb(3,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,ae)),l.sb(5,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(6,0,[["fileInput",1]],null,0,"input",[["accept","image/*"],["hidden",""],["multiple",""],["type","file"]],null,[[null,"change"]],function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.onFileInputChange(t)&&l),l},null,null))],function(n,e){var t=e.component;n(e,1,0,t.isLoading),n(e,3,0,!t.images||!t.images.length),n(e,5,0,t.images&&t.images.length)},null)}function ue(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-gallery-photo-add",[],null,null,null,re,te)),l.sb(1,245760,null,0,qn,[sn.a,w.n,L.a,ee],null,null)],function(n,e){n(e,1,0)},null)}var se=l.pb("app-gallery-photo-add",qn,ue,{},{},[]),ce=t("t68o"),be=t("NcP4"),de=t("6n0y"),he=l.rb({encapsulation:0,styles:[[""]],data:{}});function ge(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,0,"img",[["alt","gallery photo"]],[[8,"src",4],[4,"max-width",null],[4,"max-height",null],[4,"border",null]],null,null,null,null))],null,function(n,e){n(e,0,0,e.component.getThumbnailUrl(),"100%","100%","1px solid #021a40")})}function fe(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,64,"form",[["novalidate",""]],[[2,"wide-dialog-form",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,t){var i=!0,o=n.component;return"submit"===e&&(i=!1!==l.Db(n,2).onSubmit(t)&&i),"reset"===e&&(i=!1!==l.Db(n,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.submit()&&i),i},null,null)),l.sb(1,16384,null,0,x.D,[],null,null),l.sb(2,4210688,[["form",4]],0,x.u,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l.Hb(2048,null,x.d,null,[x.u]),l.sb(4,16384,null,0,x.t,[[4,x.d]],null,null),(n()(),l.tb(5,0,null,null,48,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.sb(6,16384,null,0,cn.j,[],null,null),(n()(),l.tb(7,0,null,null,46,"div",[["fxFlex",""],["fxLayout.gt-xs","row"],["fxLayout.xs","column"]],null,null,null,null,null)),l.sb(8,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{"fxLayout.xs":[0,"fxLayout.xs"],"fxLayout.gt-xs":[1,"fxLayout.gt-xs"]},null),l.sb(9,671744,null,0,O.b,[l.k,E.i,E.e,O.h,E.f],{fxFlex:[0,"fxFlex"]},null),(n()(),l.tb(10,0,null,null,4,"div",[["class","custom-form-field"],["fxFlex",""],["style","text-align: center"]],null,null,null,null,null)),l.sb(11,671744,null,0,O.b,[l.k,E.i,E.e,O.h,E.f],{fxFlex:[0,"fxFlex"]},null),(n()(),l.tb(12,0,null,null,2,"div",[["style","position: relative; height: 100%"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,ge)),l.sb(14,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(15,0,null,null,38,"div",[["fxFlex",""]],null,null,null,null,null)),l.sb(16,671744,null,0,O.b,[l.k,E.i,E.e,O.h,E.f],{fxFlex:[0,"fxFlex"]},null),(n()(),l.tb(17,0,null,null,7,"div",[["class","custom-form-field"]],null,null,null,null,null)),(n()(),l.tb(18,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"],["name","active"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,t){var l=!0;return"ngModelChange"===e&&(l=!1!==(n.component.galleryPhoto.active=t)&&l),l},D.b,D.a)),l.sb(19,8568832,null,0,I.b,[l.k,l.h,u.e,l.B,[8,null],[2,I.a],[2,s.a]],{color:[0,"color"],name:[1,"name"]},null),l.Hb(1024,null,x.q,function(n){return[n]},[I.b]),l.sb(21,671744,null,0,x.v,[[2,x.d],[8,null],[8,null],[6,x.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(23,16384,null,0,x.s,[[4,x.r]],null,null),(n()(),l.Kb(-1,0,["Active"])),(n()(),l.tb(25,0,null,null,7,"div",[["class","custom-form-field"]],null,null,null,null,null)),(n()(),l.tb(26,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["color","primary"],["name","slider"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,t){var l=!0;return"ngModelChange"===e&&(l=!1!==(n.component.galleryPhoto.slider=t)&&l),l},D.b,D.a)),l.sb(27,8568832,null,0,I.b,[l.k,l.h,u.e,l.B,[8,null],[2,I.a],[2,s.a]],{color:[0,"color"],name:[1,"name"],disabled:[2,"disabled"]},null),l.Hb(1024,null,x.q,function(n){return[n]},[I.b]),l.sb(29,671744,null,0,x.v,[[2,x.d],[8,null],[8,null],[6,x.q]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(31,16384,null,0,x.s,[[4,x.r]],null,null),(n()(),l.Kb(-1,0,[" Show in slider "])),(n()(),l.tb(33,0,null,null,20,"mat-form-field",[["class","custom-form-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Rn.b,Rn.a)),l.sb(34,7520256,null,9,Un.c,[l.k,l.h,[2,Qn.h],[2,g.b],[2,Un.a],h.a,l.B,[2,s.a]],null,null),l.Ib(603979776,1,{_controlNonStatic:0}),l.Ib(335544320,2,{_controlStatic:0}),l.Ib(603979776,3,{_labelChildNonStatic:0}),l.Ib(335544320,4,{_labelChildStatic:0}),l.Ib(603979776,5,{_placeholderChild:0}),l.Ib(603979776,6,{_errorChildren:1}),l.Ib(603979776,7,{_hintChildren:1}),l.Ib(603979776,8,{_prefixChildren:1}),l.Ib(603979776,9,{_suffixChildren:1}),(n()(),l.tb(44,0,null,1,9,"textarea",[["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","title"],["placeholder","Title"],["rows","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,t){var i=!0,o=n.component;return"input"===e&&(i=!1!==l.Db(n,45)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l.Db(n,45).onTouched()&&i),"compositionstart"===e&&(i=!1!==l.Db(n,45)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l.Db(n,45)._compositionEnd(t.target.value)&&i),"input"===e&&(i=!1!==l.Db(n,50)._noopInputHandler()&&i),"blur"===e&&(i=!1!==l.Db(n,51)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==l.Db(n,51)._focusChanged(!0)&&i),"input"===e&&(i=!1!==l.Db(n,51)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.galleryPhoto.title=t)&&i),"keydown.enter"===e&&(i=!1!==o.onKeyEnterUp(t)&&i),i},null,null)),l.sb(45,16384,null,0,x.e,[l.G,l.k,[2,x.a]],null,null),l.Hb(1024,null,x.q,function(n){return[n]},[x.e]),l.sb(47,671744,null,0,x.v,[[2,x.d],[8,null],[8,null],[6,x.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,x.r,null,[x.v]),l.sb(49,16384,null,0,x.s,[[4,x.r]],null,null),l.sb(50,4603904,null,0,Nn.b,[l.k,h.a,l.B],{enabled:[0,"enabled"]},null),l.sb(51,999424,null,0,Tn.a,[l.k,h.a,[6,x.r],[2,x.u],[2,x.l],Qn.b,[8,null],Nn.a,l.B],{placeholder:[0,"placeholder"]},null),l.Hb(2048,[[1,4],[2,4]],Un.d,null,[Tn.a]),(n()(),l.Kb(-1,null,["          "])),(n()(),l.tb(54,0,null,null,10,"div",[["class","mat-dialog-actions"],["fxLayout","row"],["fxLayoutAlign","end"],["mat-dialog-actions",""]],null,null,null,null,null)),l.sb(55,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(56,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),l.sb(57,16384,null,0,cn.f,[],null,null),(n()(),l.tb(58,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Db(n,60).dialogRef.close(l.Db(n,60).dialogResult)&&i),i},a.d,a.b)),l.sb(59,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(60,606208,null,0,cn.g,[[2,cn.l],l.k,cn.e],{dialogResult:[0,"dialogResult"]},null),(n()(),l.Kb(-1,0,[" Cancel "])),(n()(),l.tb(62,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,a.d,a.b)),l.sb(63,180224,null,0,r.b,[l.k,u.e,[2,s.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.Kb(-1,0,[" Submit "]))],function(n,e){var t=e.component;n(e,8,0,"column","row"),n(e,9,0,""),n(e,11,0,""),n(e,14,0,t.galleryPhoto.image_id),n(e,16,0,""),n(e,19,0,"primary","active"),n(e,21,0,"active",t.galleryPhoto.active),n(e,27,0,"primary","slider",!t.galleryPhoto.active),n(e,29,0,"slider",!t.galleryPhoto.active,t.galleryPhoto.slider),n(e,47,0,"title",t.galleryPhoto.title),n(e,50,0,""),n(e,51,0,"Title"),n(e,55,0,"row"),n(e,56,0,"end"),n(e,60,0,!1),n(e,63,0,t.isLoading||l.Db(e,2).invalid,"primary")},function(n,e){n(e,0,0,!e.component.isMobile,l.Db(e,4).ngClassUntouched,l.Db(e,4).ngClassTouched,l.Db(e,4).ngClassPristine,l.Db(e,4).ngClassDirty,l.Db(e,4).ngClassValid,l.Db(e,4).ngClassInvalid,l.Db(e,4).ngClassPending),n(e,18,1,[l.Db(e,19).id,null,l.Db(e,19).indeterminate,l.Db(e,19).checked,l.Db(e,19).disabled,"before"==l.Db(e,19).labelPosition,"NoopAnimations"===l.Db(e,19)._animationMode,l.Db(e,23).ngClassUntouched,l.Db(e,23).ngClassTouched,l.Db(e,23).ngClassPristine,l.Db(e,23).ngClassDirty,l.Db(e,23).ngClassValid,l.Db(e,23).ngClassInvalid,l.Db(e,23).ngClassPending]),n(e,26,1,[l.Db(e,27).id,null,l.Db(e,27).indeterminate,l.Db(e,27).checked,l.Db(e,27).disabled,"before"==l.Db(e,27).labelPosition,"NoopAnimations"===l.Db(e,27)._animationMode,l.Db(e,31).ngClassUntouched,l.Db(e,31).ngClassTouched,l.Db(e,31).ngClassPristine,l.Db(e,31).ngClassDirty,l.Db(e,31).ngClassValid,l.Db(e,31).ngClassInvalid,l.Db(e,31).ngClassPending]),n(e,33,1,["standard"==l.Db(e,34).appearance,"fill"==l.Db(e,34).appearance,"outline"==l.Db(e,34).appearance,"legacy"==l.Db(e,34).appearance,l.Db(e,34)._control.errorState,l.Db(e,34)._canLabelFloat,l.Db(e,34)._shouldLabelFloat(),l.Db(e,34)._hasFloatingLabel(),l.Db(e,34)._hideControlPlaceholder(),l.Db(e,34)._control.disabled,l.Db(e,34)._control.autofilled,l.Db(e,34)._control.focused,"accent"==l.Db(e,34).color,"warn"==l.Db(e,34).color,l.Db(e,34)._shouldForward("untouched"),l.Db(e,34)._shouldForward("touched"),l.Db(e,34)._shouldForward("pristine"),l.Db(e,34)._shouldForward("dirty"),l.Db(e,34)._shouldForward("valid"),l.Db(e,34)._shouldForward("invalid"),l.Db(e,34)._shouldForward("pending"),!l.Db(e,34)._animationsEnabled]),n(e,44,1,[l.Db(e,49).ngClassUntouched,l.Db(e,49).ngClassTouched,l.Db(e,49).ngClassPristine,l.Db(e,49).ngClassDirty,l.Db(e,49).ngClassValid,l.Db(e,49).ngClassInvalid,l.Db(e,49).ngClassPending,l.Db(e,51)._isServer,l.Db(e,51).id,l.Db(e,51).placeholder,l.Db(e,51).disabled,l.Db(e,51).required,l.Db(e,51).readonly&&!l.Db(e,51)._isNativeSelect||null,l.Db(e,51)._ariaDescribedby||null,l.Db(e,51).errorState,l.Db(e,51).required.toString()]),n(e,58,0,l.Db(e,59).disabled||null,"NoopAnimations"===l.Db(e,59)._animationMode,l.Db(e,60).ariaLabel||null),n(e,62,0,l.Db(e,63).disabled||null,"NoopAnimations"===l.Db(e,63)._animationMode)})}function me(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,k.b,k.a)),l.sb(1,114688,null,0,S.a,[],{shown:[0,"shown"]},null),(n()(),l.tb(2,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.sb(3,81920,null,0,cn.m,[[2,cn.l],l.k,cn.e],null,null),(n()(),l.Kb(-1,null,["Edit Gallery Photo"])),(n()(),l.ib(16777216,null,null,1,null,fe)),l.sb(6,16384,null,0,A.k,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(n,e){var t=e.component;n(e,1,0,t.isLoading),n(e,3,0),n(e,6,0,t.galleryPhoto)},function(n,e){n(e,2,0,l.Db(e,3).id)})}function pe(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-gallery-photo-edit-dialog",[],null,null,null,me,he)),l.sb(1,245760,null,0,an,[cn.l,w.n,L.a,sn.a,bn.a,cn.a],null,null)],function(n,e){n(e,1,0)},null)}var Ae=l.pb("app-gallery-photo-edit-dialog",an,pe,{},{},[]),ye=l.rb({encapsulation:0,styles:[[""]],data:{}});function ve(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,9,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","end"],["mat-dialog-title",""]],[[4,"margin","px"],[4,"height","px"],[8,"id",0]],null,null,null,null)),l.sb(1,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(2,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),l.sb(3,81920,null,0,cn.m,[[2,cn.l],l.k,cn.e],null,null),(n()(),l.tb(4,0,null,null,5,"button",[["mat-dialog-close",""],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Db(n,6).dialogRef.close(l.Db(n,6).dialogResult)&&i),i},a.d,a.b)),l.sb(5,180224,null,0,r.b,[l.k,u.e,[2,s.a]],null,null),l.sb(6,606208,null,0,cn.g,[[2,cn.l],l.k,cn.e],{dialogResult:[0,"dialogResult"]},null),(n()(),l.tb(7,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.sb(8,9158656,null,0,p.b,[l.k,p.d,[8,null],[2,p.a]],null,null),(n()(),l.Kb(-1,0,["close"])),(n()(),l.tb(10,0,null,null,8,"mat-dialog-content",[["class","mat-dialog-content"],["fxLayout","column"],["fxLayoutAlign","start center"],["fxLayoutGap","5px"]],null,null,null,null,null)),l.sb(11,671744,null,0,O.d,[l.k,E.i,[2,O.k],E.f],{fxLayout:[0,"fxLayout"]},null),l.sb(12,1720320,null,0,O.e,[l.k,l.B,g.b,E.i,[2,O.j],E.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),l.sb(13,671744,null,0,O.c,[l.k,E.i,[2,O.i],E.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),l.sb(14,16384,null,0,cn.j,[],null,null),(n()(),l.tb(15,0,null,null,0,"div",[["style","background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 70vw;\n    height: 60vh;"]],[[4,"background-image",null]],null,null,null,null)),(n()(),l.tb(16,0,null,null,2,"a",[["mat-raised-button",""],["target","_blank"]],[[8,"href",4],[4,"margin-bottom","px"],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l.Db(n,17)._haltDisabledEvents(t)&&i),i},a.c,a.a)),l.sb(17,180224,null,0,r.a,[u.e,l.k,[2,s.a]],null,null),(n()(),l.Kb(-1,0,[" View Full-Size "]))],function(n,e){n(e,1,0,"row"),n(e,2,0,"end"),n(e,3,0),n(e,6,0,""),n(e,8,0),n(e,11,0,"column"),n(e,12,0,"5px"),n(e,13,0,"start center")},function(n,e){var t=e.component;n(e,0,0,0,0,l.Db(e,3).id),n(e,4,0,l.Db(e,5).disabled||null,"NoopAnimations"===l.Db(e,5)._animationMode,l.Db(e,6).ariaLabel||null),n(e,7,0,l.Db(e,8).inline,"primary"!==l.Db(e,8).color&&"accent"!==l.Db(e,8).color&&"warn"!==l.Db(e,8).color),n(e,15,0,"url("+t.imageUrl+")"),n(e,16,0,t.imageUrl,5,l.Db(e,17).disabled?-1:l.Db(e,17).tabIndex||0,l.Db(e,17).disabled||null,l.Db(e,17).disabled.toString(),"NoopAnimations"===l.Db(e,17)._animationMode)})}function we(n){return l.Mb(0,[(n()(),l.tb(0,0,null,null,1,"app-gallery-photo-preview-dialog",[],null,null,null,ve,ye)),l.sb(1,114688,null,0,rn,[cn.a],null,null)],function(n,e){n(e,1,0)},null)}var De=l.pb("app-gallery-photo-preview-dialog",rn,we,{},{},[]),Ie=t("M2Lx"),xe=t("uGex"),Ce=t("4epT"),_e=t("4tE/"),Be=(t("iw75"),t("NUQi")),Pe=function(){return function(){}}(),ke=t("LC5p"),Se=t("YhbO"),Oe=t("4c35"),Ee=t("jlZm"),Me=t("y4qS"),Ge=t("BHnd"),je=t("FVSy"),Fe=t("hUWP"),Le=t("Blfk"),Re=t("kWGw"),Ue=t("/dO6"),Qe=t("PCNd"),Te=Object(w.v)({galleryPhotos:null,selectedGalleryPhoto:null,isLoading:!1},Object(w.y)(N,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(H,function(n,e){return Hn.a({},n,{galleryPhotos:e.galleryPhotos,isLoading:!1})}),Object(w.y)(q,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(z,function(n,e){return Hn.a({},n,{selectedGalleryPhoto:e.galleryPhoto,isLoading:!1})}),Object(w.y)($,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(V,function(n,e){return Hn.a({},n,{selectedGalleryPhoto:e.galleryPhoto,isLoading:!1})}),Object(w.y)(Y,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(X,function(n){return Hn.a({},n,{isLoading:!1})}),Object(w.y)(Z,function(n){return Hn.a({},n,{isLoading:!1})}),Object(w.y)(K,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(W,function(n){return Hn.a({},n,{isLoading:!1})}),Object(w.y)(J,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(nn,function(n){return Hn.a({},n,{isLoading:!1})}),Object(w.y)(en,function(n){return Hn.a({},n,{isLoading:!0})}),Object(w.y)(tn,function(n){return Hn.a({},n,{isLoading:!1})}));function Ne(n,e){return Te(n,e)}var He=t("7e/4"),qe=t("6V3w"),ze=t("15JJ"),Ke=t("9Z1F"),We=t("F/XL"),$e=function(){return function(n,e){var t=this;this.actions$=n,this.galleryPhotosService=e,this.getAllGalleryPhotos$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.GetAllGalleryPhotos),Object(qe.a)(function(n){return t.galleryPhotosService.all(n.pagination).pipe(Object(ze.a)(function(n){return[H({galleryPhotos:n})]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.getGalleryPhoto$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.GetGalleryPhoto),Object(qe.a)(function(n){return t.galleryPhotosService.show(n.id).pipe(Object(ze.a)(function(n){return[z({galleryPhoto:n})]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.updateGalleryPhoto$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.UpdateGalleryPhoto),Object(qe.a)(function(n){return t.galleryPhotosService.update(n.galleryPhoto,n.image).pipe(Object(ze.a)(function(n){return[V({galleryPhoto:n}),Object(He.d)({message:"Successfully updated!"})]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.createGalleryPhoto$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.CreateGalleryPhoto),Object(qe.a)(function(n){return t.galleryPhotosService.createMany(n.galleryPhoto,n.images).pipe(Object(ze.a)(function(n){return[X({galleryPhotos:n}),Object(He.d)({message:"Successfully created!"})]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.deleteGalleryPhoto$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.DeleteGalleryPhoto),Object(qe.a)(function(n){var e=n.id;return t.galleryPhotosService.delete(e).pipe(Object(ze.a)(function(n){var t=n.message;return[Object(He.d)({message:t}),W({id:e})]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.reorderGalleryPhoto$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.ReorderGalleryPhotos),Object(qe.a)(function(n){return t.galleryPhotosService.reorder(n.ids).pipe(Object(ze.a)(function(n){var e=n.message;return[Object(He.d)({message:e}),nn()]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))}),this.activateManyGalleryPhotos$=Object(L.c)(function(){return t.actions$.pipe(Object(L.d)(T.ActivateManyGalleryPhotos),Object(qe.a)(function(n){return t.galleryPhotosService.activateMany(n.ids).pipe(Object(ze.a)(function(n){var e=n.message;return[Object(He.d)({message:e}),tn()]}),Object(Ke.a)(function(n){return Object(We.a)(Object(He.b)({message:n}),Z())}))}))})}}(),Ve=t("qc5V"),Ye=t("t/Na"),Xe=function(n){function e(e){var t=n.call(this)||this;t.generateImages([1,2,3,7,8,12,13,16,17,19,23,25,26]);var l=[1,7,12];return t.data.filter(function(n){return l.some(function(e){return n.image_id==e})}).forEach(function(n){return n.slider=!0}),t}return Hn.c(e,n),e.prototype.generateImages=function(n){var e=1;this.data=n.map(function(n){return{id:e++,active:!0,created_at:new Date,updated_at:new Date,height:0,width:0,image_id:n,slider:!1}})},e.prototype.createMany=function(n,e){var t,l;try{for(var i=Hn.h(e),o=i.next();!o.done;o=i.next())this.create(n,{file:o.value,key:""})}catch(a){t={error:a}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(t)throw t.error}}return Object(We.a)([])},e.prototype.activateMany=function(n){return this.data.filter(function(e){return n.some(function(n){return n===e.id})}).forEach(function(n){return n.active=!0}),Object(We.a)({message:"Activated successfully."})},e.ngInjectableDef=l.Ob({factory:function(){return new e(l.Sb(Ye.c))},token:e,providedIn:"root"}),e}(Ve.a),Ze=function(){return function(){}}(),Je=t("YSh2");t.d(e,"GalleryModuleNgFactory",function(){return nt});var nt=l.qb(i,[],function(n){return l.Ab([l.Bb(512,l.j,l.db,[[8,[o.a,Fn,se,ce.a,be.a,de.a,Ae,De]],[3,l.j],l.z]),l.Bb(4608,A.m,A.l,[l.w,[2,A.C]]),l.Bb(4608,x.B,x.B,[]),l.Bb(4608,Ie.c,Ie.c,[]),l.Bb(4608,Qn.b,Qn.b,[]),l.Bb(4608,x.g,x.g,[]),l.Bb(5120,l.b,function(n,e){return[E.j(n,e)]},[A.d,l.D]),l.Bb(4608,b.c,b.c,[b.i,b.e,l.j,b.h,b.f,l.s,l.B,A.d,g.b,[2,A.g]]),l.Bb(5120,b.j,b.k,[b.c]),l.Bb(5120,cn.c,cn.d,[b.c]),l.Bb(135680,cn.e,cn.e,[b.c,l.s,[2,A.g],[2,cn.b],cn.c,[3,cn.e],b.e]),l.Bb(5120,xe.a,xe.b,[b.c]),l.Bb(5120,c.b,c.c,[b.c]),l.Bb(4608,f.e,Qn.c,[[2,Qn.g],[2,Qn.l]]),l.Bb(5120,Ce.c,Ce.a,[[3,Ce.c]]),l.Bb(5120,_e.b,_e.c,[b.c]),l.Bb(5120,C.c,C.j,[b.c]),l.Bb(4608,on.g,on.g,[A.d,l.B,d.e,on.i]),l.Bb(4608,Xn,Xn,[]),l.Bb(4608,Zn,Zn,[Xn]),l.Bb(4608,Kn,Kn,[]),l.Bb(4608,ne,ne,[Zn,Kn]),l.Bb(4608,Wn,Wn,[Kn]),l.Bb(4608,ee,ee,[Wn,ne,Kn]),l.Bb(1073742336,A.c,A.c,[]),l.Bb(1073742336,y.s,y.s,[[2,y.y],[2,y.o]]),l.Bb(1073742336,Pe,Pe,[]),l.Bb(1073742336,x.A,x.A,[]),l.Bb(1073742336,x.m,x.m,[]),l.Bb(1073742336,Ie.d,Ie.d,[]),l.Bb(1073742336,Un.e,Un.e,[]),l.Bb(1073742336,h.b,h.b,[]),l.Bb(1073742336,Nn.c,Nn.c,[]),l.Bb(1073742336,Tn.b,Tn.b,[]),l.Bb(1073742336,x.x,x.x,[]),l.Bb(1073742336,g.a,g.a,[]),l.Bb(1073742336,Qn.l,Qn.l,[[2,Qn.d],[2,f.f]]),l.Bb(1073742336,Qn.v,Qn.v,[]),l.Bb(1073742336,r.c,r.c,[]),l.Bb(1073742336,E.c,E.c,[]),l.Bb(1073742336,O.g,O.g,[]),l.Bb(1073742336,ke.b,ke.b,[]),l.Bb(1073742336,Se.c,Se.c,[]),l.Bb(1073742336,Oe.f,Oe.f,[]),l.Bb(1073742336,Ee.d,Ee.d,[]),l.Bb(1073742336,Me.p,Me.p,[]),l.Bb(1073742336,Ge.l,Ge.l,[]),l.Bb(1073742336,je.d,je.d,[]),l.Bb(1073742336,p.c,p.c,[]),l.Bb(1073742336,d.c,d.c,[]),l.Bb(1073742336,b.g,b.g,[]),l.Bb(1073742336,cn.k,cn.k,[]),l.Bb(1073742336,Fe.c,Fe.c,[]),l.Bb(1073742336,Qn.t,Qn.t,[]),l.Bb(1073742336,Qn.q,Qn.q,[]),l.Bb(1073742336,xe.d,xe.d,[]),l.Bb(1073742336,u.a,u.a,[]),l.Bb(1073742336,c.e,c.e,[]),l.Bb(1073742336,Ce.d,Ce.d,[]),l.Bb(1073742336,Le.c,Le.c,[]),l.Bb(1073742336,Re.a,Re.a,[]),l.Bb(1073742336,I.d,I.d,[]),l.Bb(1073742336,I.c,I.c,[]),l.Bb(1073742336,Ue.f,Ue.f,[]),l.Bb(1073742336,_e.e,_e.e,[]),l.Bb(1073742336,C.i,C.i,[]),l.Bb(1073742336,C.f,C.f,[]),l.Bb(1073742336,on.h,on.h,[]),l.Bb(1073742336,Qn.m,Qn.m,[]),l.Bb(1073742336,P.b,P.b,[]),l.Bb(1073742336,Qe.a,Qe.a,[]),l.Bb(1024,w.G,function(){return[{}]},[]),l.Bb(1024,w.j,function(){return[{key:"gallery",reducerFactory:w.r,metaReducers:[],initialState:void 0}]},[]),l.Bb(1024,w.H,w.N,[l.s,w.G,w.j]),l.Bb(1024,w.F,function(){return[Ne]},[]),l.Bb(1024,w.I,function(n){return[n]},[w.F]),l.Bb(1024,w.b,function(n,e,t){return[w.O(n,e,t)]},[l.s,w.F,w.I]),l.Bb(1073873408,w.o,w.o,[w.H,w.b,w.g,w.p]),l.Bb(512,$e,$e,[L.a,Xe]),l.Bb(1024,L.i,function(n){return[L.e(n)]},[$e]),l.Bb(1073742336,L.g,L.g,[L.f,L.i,[2,w.p],[2,w.o]]),l.Bb(1073742336,Jn,Jn,[]),l.Bb(1073742336,Ze,Ze,[]),l.Bb(1073742336,i,i,[]),l.Bb(1024,y.m,function(){return[[{path:"",component:un,canActivate:[Be.a]},{path:"add",component:qn,canActivate:[Be.a]}]]},[]),l.Bb(256,Ue.a,{separatorKeyCodes:[Je.f]},[])])})},DRxR:function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("mrSG"),i=t("qc5V"),o=t("Ip0R"),a=t("CcnG"),r=t("t/Na"),u=function(n){function e(e){var t=n.call(this,[])||this;return t.filePath="./assets/api/files",t}return l.c(e,n),e.getDimensionString=function(n){return(n&&n.width?n.width:"")+"x"+(n&&n.height?n.height:"")},e.getOptionsPostfix=function(n){return n?n.imResize?o.g.joinWithSlash(e.getDimensionString(n.thumbnail),e.getDimensionString(n.imResize)):e.getDimensionString(n.thumbnail):""},e.prototype.getUrlWithOptions=function(n,t,l,i){var a=o.g.joinWithSlash(n,""+t);return l?o.g.joinWithSlash(a,e.getOptionsPostfix(l))+(i?"."+i:""):o.g.joinWithSlash(a,"original")+(i?"."+i:"")},e.prototype.getDownloadUrl=function(n,e,t){return void 0===t&&(t="pdf"),this.getUrlWithOptions(this.filePath,n,e,t)},e.prototype.getFileUrl=function(n,e,t){return void 0===t&&(t="png"),this.getUrlWithOptions(this.filePath,n,e,t)},e.ngInjectableDef=a.Ob({factory:function(){return new e(a.Sb(r.c))},token:e,providedIn:"root"}),e}(i.a)},b0Xh:function(e,t,l){var i;(function(){var l=!1,o=function(n){return n instanceof o?n:this instanceof o?void(this.EXIFwrapped=n):new o(n)};e.exports&&(t=e.exports=o),t.EXIF=o;var a=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},r=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},s=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function b(n){return!!n.exifdata}function d(n){var e=new DataView(n);if(l&&console.log("Got file of length "+n.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var t,i=2,o=n.byteLength;i<o;){if(255!=e.getUint8(i))return l&&console.log("Not a valid marker at offset "+i+", found: "+e.getUint8(i)),!1;if(t=e.getUint8(i+1),l&&console.log(t),225==t)return l&&console.log("Found 0xFFE1 marker"),A(e,i+4,e.getUint16(i+2));i+=2+e.getUint16(i+2)}}var h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function g(n,e,t){for(var l,i,o,a,r=new DataView(n),u={},s=e;s<e+t;)28===r.getUint8(s)&&2===r.getUint8(s+1)&&(a=r.getUint8(s+2))in h&&(o=r.getInt16(s+3),i=h[a],l=p(r,s+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(l):u[i]=[u[i],l]:u[i]=l),s++;return u}function f(n,e,t,i,o){var a,r,u,s=n.getUint16(t,!o),c={};for(u=0;u<s;u++)!(r=i[n.getUint16(a=t+12*u+2,!o)])&&l&&console.log("Unknown tag: "+n.getUint16(a,!o)),c[r]=m(n,a,e,0,o);return c}function m(n,e,t,l,i){var o,a,r,u,s,c,b=n.getUint16(e+2,!i),d=n.getUint32(e+4,!i),h=n.getUint32(e+8,!i)+t;switch(b){case 1:case 7:if(1==d)return n.getUint8(e+8,!i);for(o=d>4?h:e+8,a=[],u=0;u<d;u++)a[u]=n.getUint8(o+u);return a;case 2:return p(n,o=d>4?h:e+8,d-1);case 3:if(1==d)return n.getUint16(e+8,!i);for(o=d>2?h:e+8,a=[],u=0;u<d;u++)a[u]=n.getUint16(o+2*u,!i);return a;case 4:if(1==d)return n.getUint32(e+8,!i);for(a=[],u=0;u<d;u++)a[u]=n.getUint32(h+4*u,!i);return a;case 5:if(1==d)return s=n.getUint32(h,!i),c=n.getUint32(h+4,!i),(r=new Number(s/c)).numerator=s,r.denominator=c,r;for(a=[],u=0;u<d;u++)s=n.getUint32(h+8*u,!i),c=n.getUint32(h+4+8*u,!i),a[u]=new Number(s/c),a[u].numerator=s,a[u].denominator=c;return a;case 9:if(1==d)return n.getInt32(e+8,!i);for(a=[],u=0;u<d;u++)a[u]=n.getInt32(h+4*u,!i);return a;case 10:if(1==d)return n.getInt32(h,!i)/n.getInt32(h+4,!i);for(a=[],u=0;u<d;u++)a[u]=n.getInt32(h+8*u,!i)/n.getInt32(h+4+8*u,!i);return a}}function p(e,t,l){var i="";for(n=t;n<t+l;n++)i+=String.fromCharCode(e.getUint8(n));return i}function A(n,e){if("Exif"!=p(n,e,4))return l&&console.log("Not valid EXIF data! "+p(n,e,4)),!1;var t,i,o,b,d,h=e+6;if(18761==n.getUint16(h))t=!1;else{if(19789!=n.getUint16(h))return l&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;t=!0}if(42!=n.getUint16(h+2,!t))return l&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var g=n.getUint32(h+4,!t);if(g<8)return l&&console.log("Not valid TIFF data! (First offset less than 8)",n.getUint32(h+4,!t)),!1;if((i=f(n,h,h+g,r,t)).ExifIFDPointer)for(o in b=f(n,h,h+i.ExifIFDPointer,a,t)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":b[o]=c[o][b[o]];break;case"ExifVersion":case"FlashpixVersion":b[o]=String.fromCharCode(b[o][0],b[o][1],b[o][2],b[o][3]);break;case"ComponentsConfiguration":b[o]=c.Components[b[o][0]]+c.Components[b[o][1]]+c.Components[b[o][2]]+c.Components[b[o][3]]}i[o]=b[o]}if(i.GPSInfoIFDPointer)for(o in d=f(n,h,h+i.GPSInfoIFDPointer,u,t)){switch(o){case"GPSVersionID":d[o]=d[o][0]+"."+d[o][1]+"."+d[o][2]+"."+d[o][3]}i[o]=d[o]}return i.thumbnail=function(n,e,t,l){var i=function(n,e,t){var l=n.getUint16(e,!t);return n.getUint32(e+2+12*l,!t)}(n,e+t,l);if(!i)return{};if(i>n.byteLength)return{};var o=f(n,e,e+i,s,l);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(n.buffer,e+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(n,h,g,t),i}function y(n){var e={};if(1==n.nodeType){if(n.attributes.length>0){e["@attributes"]={};for(var t=0;t<n.attributes.length;t++){var l=n.attributes.item(t);e["@attributes"][l.nodeName]=l.nodeValue}}}else if(3==n.nodeType)return n.nodeValue;if(n.hasChildNodes())for(var i=0;i<n.childNodes.length;i++){var o=n.childNodes.item(i),a=o.nodeName;if(null==e[a])e[a]=y(o);else{if(null==e[a].push){var r=e[a];e[a]=[],e[a].push(r)}e[a].push(y(o))}}return e}function v(n){try{var e={};if(n.children.length>0)for(var t=0;t<n.children.length;t++){var l=n.children.item(t),i=l.attributes;for(var o in i){var a=i[o],r=a.nodeName;void 0!==r&&(e[r]=a.nodeValue)}var u=l.nodeName;if(void 0===e[u])e[u]=y(l);else{if(void 0===e[u].push){var s=e[u];e[u]=[],e[u].push(s)}e[u].push(y(l))}}else e=n.textContent;return e}catch(c){console.log(c.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(n,e){return!((self.Image&&n instanceof self.Image||self.HTMLImageElement&&n instanceof self.HTMLImageElement)&&!n.complete||(b(n)?e&&e.call(n):function(n,e){function t(t){var i=d(t);n.exifdata=i||{};var a=function(n){var e=new DataView(n);if(l&&console.log("Got file of length "+n.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var t=2,i=n.byteLength,o=function(n,e){return 56===n.getUint8(e)&&66===n.getUint8(e+1)&&73===n.getUint8(e+2)&&77===n.getUint8(e+3)&&4===n.getUint8(e+4)&&4===n.getUint8(e+5)};t<i;){if(o(e,t)){var a=e.getUint8(t+7);return a%2!=0&&(a+=1),0===a&&(a=4),g(n,t+8+a,e.getUint16(t+6+a))}t++}}(t);if(n.iptcdata=a||{},o.isXmpEnabled){var r=function(n){if("DOMParser"in self){var e=new DataView(n);if(l&&console.log("Got file of length "+n.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var t=2,i=n.byteLength,o=new DOMParser;t<i-4;){if("http"==p(e,t,4)){var a=t-1,r=e.getUint16(t-2)-1,u=p(e,a,r),s=u.indexOf("xmpmeta>")+8,c=(u=u.substring(u.indexOf("<x:xmpmeta"),s)).indexOf("x:xmpmeta")+10;return u=u.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+u.slice(c),v(o.parseFromString(u,"text/xml"))}t++}}}(t);n.xmpdata=r||{}}e&&e.call(n)}if(n.src)if(/^data\:/i.test(n.src))t(function(n,e){e=e||n.match(/^data\:([^\;]+)\;base64,/im)[1]||"",n=n.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(n),l=t.length,i=new ArrayBuffer(l),o=new Uint8Array(i),a=0;a<l;a++)o[a]=t.charCodeAt(a);return i}(n.src));else if(/^blob\:/i.test(n.src))(a=new FileReader).onload=function(n){t(n.target.result)},function(n,e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="blob",t.onload=function(n){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},t.send()}(n.src);else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t(i.response),i=null},i.open("GET",n.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(n instanceof self.Blob||n instanceof self.File)){var a;(a=new FileReader).onload=function(n){l&&console.log("Got file of length "+n.target.result.byteLength),t(n.target.result)},a.readAsArrayBuffer(n)}}(n,e),0))},o.getTag=function(n,e){if(b(n))return n.exifdata[e]},o.getIptcTag=function(n,e){if(b(n))return n.iptcdata[e]},o.getAllTags=function(n){if(!b(n))return{};var e,t=n.exifdata,l={};for(e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);return l},o.getAllIptcTags=function(n){if(!b(n))return{};var e,t=n.iptcdata,l={};for(e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);return l},o.pretty=function(n){if(!b(n))return"";var e,t=n.exifdata,l="";for(e in t)t.hasOwnProperty(e)&&("object"==typeof t[e]?t[e]instanceof Number?l+=e+" : "+t[e]+" ["+t[e].numerator+"/"+t[e].denominator+"]\r\n":l+=e+" : ["+t[e].length+" values]\r\n":l+=e+" : "+t[e]+"\r\n");return l},o.readFromBinaryFile=function(n){return d(n)},void 0===(i=(function(){return o}).apply(t,[]))||(e.exports=i)}).call(this)},gkvR:function(n,e,t){var l;n.exports=function n(e,t,i){function o(r,u){if(!t[r]){if(!e[r]){if(!u&&"function"==typeof l&&l)return l(r,!0);if(a)return a(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[r]={exports:{}};e[r][0].call(c.exports,function(n){return o(e[r][1][n]||n)},c,c.exports,n,e,t,i)}return t[r].exports}for(var a="function"==typeof l&&l,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(n,e,t){"use strict";var l=n("inherits"),i=n("multimath"),o=n("multimath/lib/unsharp_mask"),a=n("./mm_resize");function r(n){var e=n||[],t={js:e.indexOf("js")>=0,wasm:e.indexOf("wasm")>=0};i.call(this,t),this.features={js:t.js,wasm:t.wasm&&this.has_wasm()},this.use(o),this.use(a)}l(r,i),r.prototype.resizeAndUnsharp=function(n,e){var t=this.resize(n,e);return n.unsharpAmount&&this.unsharp_mask(t,n.toWidth,n.toHeight,n.unsharpAmount,n.unsharpRadius,n.unsharpThreshold),t},e.exports=r},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:[function(n,e,t){"use strict";function l(n){return n<0?0:n>255?255:n}e.exports={convolveHorizontally:function(n,e,t,i,o,a){var r,u,s,c,b,d,h,g,f,m,p,A=0,y=0;for(f=0;f<i;f++){for(b=0,m=0;m<o;m++){for(d=a[b++],h=a[b++],g=A+4*d|0,r=u=s=c=0;h>0;h--)c=c+(p=a[b++])*n[g+3]|0,s=s+p*n[g+2]|0,u=u+p*n[g+1]|0,r=r+p*n[g]|0,g=g+4|0;e[y+3]=l(c+8192>>14),e[y+2]=l(s+8192>>14),e[y+1]=l(u+8192>>14),e[y]=l(r+8192>>14),y=y+4*i|0}y=4*(f+1)|0,A=(f+1)*t*4|0}},convolveVertically:function(n,e,t,i,o,a){var r,u,s,c,b,d,h,g,f,m,p,A=0,y=0;for(f=0;f<i;f++){for(b=0,m=0;m<o;m++){for(d=a[b++],h=a[b++],g=A+4*d|0,r=u=s=c=0;h>0;h--)c=c+(p=a[b++])*n[g+3]|0,s=s+p*n[g+2]|0,u=u+p*n[g+1]|0,r=r+p*n[g]|0,g=g+4|0;e[y+3]=l(c+8192>>14),e[y+2]=l(s+8192>>14),e[y+1]=l(u+8192>>14),e[y]=l(r+8192>>14),y=y+4*i|0}y=4*(f+1)|0,A=(f+1)*t*4|0}}}},{}],3:[function(n,e,t){"use strict";e.exports="AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="},{}],4:[function(n,e,t){"use strict";e.exports={name:"resize",fn:n("./resize"),wasm_fn:n("./resize_wasm"),wasm_src:n("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(n,e,t){"use strict";var l=n("./resize_filter_gen"),i=n("./convolve").convolveHorizontally,o=n("./convolve").convolveVertically;e.exports=function(n){var e=n.src,t=n.width,a=n.height,r=n.toWidth,u=n.toHeight,s=n.scaleX||n.toWidth/n.width,c=n.scaleY||n.toHeight/n.height,b=n.offsetX||0,d=n.offsetY||0,h=n.dest||new Uint8Array(r*u*4),g=void 0===n.quality?3:n.quality,f=n.alpha||!1,m=l(g,t,r,s,b),p=l(g,a,u,c,d),A=new Uint8Array(r*a*4);return i(e,A,t,a,r,m),o(A,h,a,r,u,p),f||function(n,e,t){for(var l=3,i=r*u*4|0;l<i;)n[l]=255,l=l+4|0}(h),h}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(n,e,t){"use strict";var l=n("./resize_filter_info"),i=14;function o(n){return Math.round(n*((1<<i)-1))}e.exports=function(n,e,t,i,a){var r,u,s,c,b,d,h,g,f,m,p,A,y,v,w,D,I=l[n].filter,x=1/i,C=Math.min(1,i),_=l[n].win/C,B=Math.floor(2*(_+1)),P=new Int16Array((B+2)*t),k=0,S=!P.subarray||!P.set;for(r=0;r<t;r++){for(u=(r+.5)*x+a,s=Math.max(0,Math.floor(u-_)),b=(c=Math.min(e-1,Math.ceil(u+_)))-s+1,d=new Float32Array(b),h=new Int16Array(b),g=0,f=s,m=0;f<=c;f++,m++)g+=p=I((f+.5-u)*C),d[m]=p;for(A=0,m=0;m<d.length;m++)A+=y=d[m]/g,h[m]=o(y);for(h[t>>1]+=o(1-A),v=0;v<h.length&&0===h[v];)v++;if(v<h.length){for(w=h.length-1;w>0&&0===h[w];)w--;if(D=w-v+1,P[k++]=s+v,P[k++]=D,S)for(m=v;m<=w;m++)P[k++]=h[m];else P.set(h.subarray(v,w+1),k),k+=D}else P[k++]=0,P[k++]=0}return P}},{"./resize_filter_info":7}],7:[function(n,e,t){"use strict";e.exports=[{win:.5,filter:function(n){return n>=-.5&&n<.5?1:0}},{win:1,filter:function(n){if(n<=-1||n>=1)return 0;if(n>-1.1920929e-7&&n<1.1920929e-7)return 1;var e=n*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(n){if(n<=-2||n>=2)return 0;if(n>-1.1920929e-7&&n<1.1920929e-7)return 1;var e=n*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(n){if(n<=-3||n>=3)return 0;if(n>-1.1920929e-7&&n<1.1920929e-7)return 1;var e=n*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}]},{}],8:[function(n,e,t){"use strict";var l=n("./resize_filter_gen"),i=!0;try{i=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(a){}function o(n,e,t){if(i)e.set(function(n){return new Uint8Array(n.buffer,0,n.byteLength)}(n),t);else for(var l=t,o=0;o<n.length;o++){var a=n[o];e[l++]=255&a,e[l++]=a>>8&255}}e.exports=function(n){var e=n.src,t=n.width,i=n.height,a=n.toWidth,r=n.toHeight,u=n.scaleX||n.toWidth/n.width,s=n.scaleY||n.toHeight/n.height,c=n.offsetX||0,b=n.offsetY||0,d=n.dest||new Uint8Array(a*r*4),h=void 0===n.quality?3:n.quality,g=n.alpha||!1,f=l(h,t,a,u,c),m=l(h,i,r,s,b),p=this.__align(0+Math.max(e.byteLength,d.byteLength)),A=this.__align(p+i*a*4),y=this.__align(A+f.byteLength),v=this.__instance("resize",y+m.byteLength),w=new Uint8Array(this.__memory.buffer),D=new Uint32Array(this.__memory.buffer),I=new Uint32Array(e.buffer);return D.set(I),o(f,w,A),o(m,w,y),(v.exports.convolveHV||v.exports._convolveHV)(A,y,p,t,i,a,r),new Uint32Array(d.buffer).set(new Uint32Array(this.__memory.buffer,0,r*a)),g||function(n,e,t){for(var l=3,i=a*r*4|0;l<i;)n[l]=255,l=l+4|0}(d),d}},{"./resize_filter_gen":6}],9:[function(n,e,t){"use strict";function l(n,e){this.create=n,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=e||2e3}l.prototype.acquire=function(){var n,e=this;return 0!==this.available.length?n=this.available.pop():((n=this.create()).id=this.lastId++,n.release=function(){return e.release(n)}),this.acquired[n.id]=n,n},l.prototype.release=function(n){var e=this;delete this.acquired[n.id],n.lastUsed=Date.now(),this.available.push(n),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.gc()},100))},l.prototype.gc=function(){var n=this,e=Date.now();this.available=this.available.filter(function(t){return!(e-t.lastUsed>n.idle&&(t.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return n.gc()},100):0},e.exports=l},{}],10:[function(n,e,t){"use strict";e.exports=function(n,e,t,l,i,o){var a=(2*o+2+1)/i;if(a>.5)return[[t,l]];var r=Math.ceil(Math.log(Math.min(t/n,l/e))/Math.log(a));if(r<=1)return[[t,l]];for(var u=[],s=0;s<r;s++){var c=Math.round(Math.pow(Math.pow(n,r-s-1)*Math.pow(t,s+1),1/r)),b=Math.round(Math.pow(Math.pow(e,r-s-1)*Math.pow(l,s+1),1/r));u.push([c,b])}return u}},{}],11:[function(n,e,t){"use strict";var l=1e-5;function i(n){var e=Math.round(n);return Math.abs(n-e)<l?e:Math.floor(n)}function o(n){var e=Math.round(n);return Math.abs(n-e)<l?e:Math.ceil(n)}e.exports=function(n){var e,t,l,a,r,u,s=n.toWidth/n.width,c=n.toHeight/n.height,b=i(n.srcTileSize*s)-2*n.destTileBorder,d=i(n.srcTileSize*c)-2*n.destTileBorder;if(b<1||d<1)throw new Error("Internal error in pica: target tile width/height is too small.");var h,g=[];for(a=0;a<n.toHeight;a+=d)for(l=0;l<n.toWidth;l+=b)(e=l-n.destTileBorder)<0&&(e=0),e+(r=l+b+n.destTileBorder-e)>=n.toWidth&&(r=n.toWidth-e),(t=a-n.destTileBorder)<0&&(t=0),t+(u=a+d+n.destTileBorder-t)>=n.toHeight&&(u=n.toHeight-t),h={toX:e,toY:t,toWidth:r,toHeight:u,toInnerX:l,toInnerY:a,toInnerWidth:b,toInnerHeight:d,offsetX:e/s-i(e/s),offsetY:t/c-i(t/c),scaleX:s,scaleY:c,x:i(e/s),y:i(t/c),width:o(r/s),height:o(u/c)},g.push(h);return g}},{}],12:[function(n,e,t){"use strict";function l(n){return Object.prototype.toString.call(n)}e.exports.isCanvas=function(n){var e=l(n);return"[object HTMLCanvasElement]"===e||"[object Canvas]"===e},e.exports.isImage=function(n){return"[object HTMLImageElement]"===l(n)},e.exports.limiter=function(n){var e=0,t=[];function l(){e<n&&t.length&&(e++,t.shift()())}return function(n){return new Promise(function(i,o){t.push(function(){n().then(function(n){i(n),e--,l()},function(n){o(n),e--,l()})}),l()})}},e.exports.cib_quality_name=function(n){switch(n){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},e.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var n=document.createElement("canvas");return n.width=100,n.height=100,createImageBitmap(n,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(e){var t=10===e.width;return e.close(),n=null,t})}).catch(function(){return!1})}},{}],13:[function(n,e,t){"use strict";e.exports=function(){var e,t=n("./mathlib");onmessage=function(n){var l=n.data.opts;e||(e=new t(n.data.features));var i=e.resizeAndUnsharp(l);postMessage({result:i},[i.buffer])}}},{"./mathlib":1}],14:[function(n,e,t){var l,i,o,a,r,u;function s(n,e,t,l,i,o){var a,r,u,s,c,b,d,h,g,f,m,p,A,y;for(g=0;g<o;g++){for(d=g,h=0,s=c=(a=n[b=g*i])*l[6],m=l[0],p=l[1],A=l[4],y=l[5],f=0;f<i;f++)u=(r=n[b])*m+a*p+s*A+c*y,c=s,a=r,t[h]=s=u,h++,b++;for(h--,d+=o*(i-1),s=c=(a=n[--b])*l[7],r=a,m=l[2],p=l[3],f=i-1;f>=0;f--)u=r*m+a*p+s*A+c*y,c=s,a=r,r=n[b],e[d]=t[h]+(s=u),b--,h--,d-=o}}e.exports=function(n,e,t,c){if(c){var b=new Uint16Array(n.length),d=new Float32Array(Math.max(e,t)),h=function(n){n<.5&&(n=.5);var e=Math.exp(.527076)/n,t=Math.exp(-e),s=Math.exp(-2*e),c=(1-t)*(1-t)/(1+2*e*t-s);return l=c,i=c*(e-1)*t,o=c*(e+1)*t,a=-c*s,r=2*t,u=-s,new Float32Array([l,i,o,a,r,u,(l+i)/(1-r-u),(o+a)/(1-r-u)])}(c);s(n,b,d,h,e,t),s(b,n,d,h,t,e)}}},{}],15:[function(n,e,t){e.exports="function"==typeof Object.create?function(n,e){e&&(n.super_=e,n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:function(n,e){if(e){n.super_=e;var t=function(){};t.prototype=e.prototype,n.prototype=new t,n.prototype.constructor=n}}},{}],16:[function(n,e,t){"use strict";var l=n("object-assign"),i=n("./lib/base64decode"),o=n("./lib/wa_detect"),a={js:!0,wasm:!0};function r(n){if(!(this instanceof r))return new r(n);var e=l({},a,n||{});if(this.options=e,this.__cache={},this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}r.prototype.has_wasm=o,r.prototype.use=function(n){return this.__modules[n.name]=n,this[n.name]=this.options.wasm&&this.has_wasm()&&n.wasm_fn?n.wasm_fn:n.fn,this},r.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var n=this;return this.__init_promise=Promise.all(Object.keys(n.__modules).map(function(e){var t=n.__modules[e];return n.options.wasm&&n.has_wasm()&&t.wasm_fn?n.__wasm[e]?null:WebAssembly.compile(n.__base64decode(t.wasm_src)).then(function(t){n.__wasm[e]=t}):null})).then(function(){return n}),this.__init_promise},r.prototype.__base64decode=i,r.prototype.__reallocate=function(n){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(n/65536)}),this.__memory;var e=this.__memory.buffer.byteLength;return e<n&&this.__memory.grow(Math.ceil((n-e)/65536)),this.__memory},r.prototype.__instance=function(n,e,t){if(e&&this.__reallocate(e),this.__wasm[n]||(this.__wasm[n]=new WebAssembly.Module(this.__base64decode(this.__modules[n].wasm_src))),!this.__cache[n]){var i={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[n]=new WebAssembly.Instance(this.__wasm[n],{env:l(i,t||{})})}return this.__cache[n]},r.prototype.__align=function(n,e){var t=n%(e=e||8);return n+(t?e-t:0)},e.exports=r},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(n,e,t){"use strict";e.exports=function(n){for(var e=n.replace(/[\r\n=]/g,""),t=e.length,l=new Uint8Array(3*t>>2),i=0,o=0,a=0;a<t;a++)a%4==0&&a&&(l[o++]=i>>16&255,l[o++]=i>>8&255,l[o++]=255&i),i=i<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(a));var r=t%4*6;return 0===r?(l[o++]=i>>16&255,l[o++]=i>>8&255,l[o++]=255&i):18===r?(l[o++]=i>>10&255,l[o++]=i>>2&255):12===r&&(l[o++]=i>>4&255),l}},{}],18:[function(n,e,t){"use strict";e.exports=function(n,e,t){for(var l,i,o,a=e*t,r=new Uint16Array(a),u=0;u<a;u++)o=n[4*u+2],r[u]=257*(((l=n[4*u])>=(i=n[4*u+1])&&l>=o?l:i>=o&&i>=l?i:o)+(l<=i&&l<=o?l:i<=o&&i<=l?i:o))>>1;return r}},{}],19:[function(n,e,t){"use strict";e.exports={name:"unsharp_mask",fn:n("./unsharp_mask"),wasm_fn:n("./unsharp_mask_wasm"),wasm_src:n("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(n,e,t){"use strict";var l=n("glur/mono16"),i=n("./hsl_l16");e.exports=function(n,e,t,o,a,r){var u,s,c,b,d,h,g,f,m,p,A,y,v;if(!(0===o||a<.5)){a>2&&(a=2);var w=i(n,e,t),D=new Uint16Array(w);l(D,e,t,a);for(var I=o/100*4096+.5|0,x=257*r|0,C=e*t,_=0;_<C;_++)y=2*(w[_]-D[_]),Math.abs(y)>=x&&(c=n[2+(v=4*_)],h=257*((f=(u=n[v])>=(s=n[v+1])&&u>=c?u:s>=u&&s>=c?s:c)+(g=u<=s&&u<=c?u:s<=u&&s<=c?s:c))>>1,g===f?b=d=0:(d=h<=32767?4095*(f-g)/(f+g)|0:4095*(f-g)/(510-f-g)|0,b=u===f?65535*(s-c)/(6*(f-g))|0:s===f?21845+(65535*(c-u)/(6*(f-g))|0):43690+(65535*(u-s)/(6*(f-g))|0)),(h+=I*y+2048>>12)>65535?h=65535:h<0&&(h=0),0===d?u=s=c=h>>8:(m=2*h-(p=h<=32767?h*(4096+d)+2048>>12:h+((65535-h)*d+2048>>12))>>8,p>>=8,u=(A=b+21845&65535)>=43690?m:A>=32767?m+(6*(p-m)*(43690-A)+32768>>16):A>=10922?p:m+(6*(p-m)*A+32768>>16),s=(A=65535&b)>=43690?m:A>=32767?m+(6*(p-m)*(43690-A)+32768>>16):A>=10922?p:m+(6*(p-m)*A+32768>>16),c=(A=b-21845&65535)>=43690?m:A>=32767?m+(6*(p-m)*(43690-A)+32768>>16):A>=10922?p:m+(6*(p-m)*A+32768>>16)),n[v]=u,n[v+1]=s,n[v+2]=c)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(n,e,t){"use strict";e.exports=function(n,e,t,l,i,o){if(!(0===l||i<.5)){i>2&&(i=2);var a=e*t,r=4*a,u=2*a,s=2*a,c=4*Math.max(e,t),b=r,d=b+u,h=d+s,g=h+s,f=g+c,m=this.__instance("unsharp_mask",r+u+2*s+c+32,{exp:Math.exp}),p=new Uint32Array(n.buffer);new Uint32Array(this.__memory.buffer).set(p);var A=m.exports.hsl_l16||m.exports._hsl_l16;A(0,b,e,t),(A=m.exports.blurMono16||m.exports._blurMono16)(b,d,h,g,f,e,t,i),(A=m.exports.unsharp||m.exports._unsharp)(0,0,b,d,e,t,l,o),p.set(new Uint32Array(this.__memory.buffer,0,a))}}},{}],22:[function(n,e,t){"use strict";e.exports="AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},{}],23:[function(n,e,t){"use strict";var l;e.exports=function(){if(void 0!==l)return l;if(l=!1,"undefined"==typeof WebAssembly)return l;try{var n=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(n);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)&&(l=!0),l}catch(t){}return l}},{}],24:[function(n,e,t){"use strict";var l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(n){return e[n]}).join(""))return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(n){l[n]=n}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(i){return!1}}()?Object.assign:function(n,e){for(var t,a,r=function(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(n),u=1;u<arguments.length;u++){for(var s in t=Object(arguments[u]))i.call(t,s)&&(r[s]=t[s]);if(l){a=l(t);for(var c=0;c<a.length;c++)o.call(t,a[c])&&(r[a[c]]=t[a[c]])}}return r}},{}],25:[function(n,e,t){var l=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(n,e){for(var t,r=Object.keys(o),u=0,s=r.length;u<s;u++){var c=o[d=r[u]].exports;if(c===n||c&&c.default===n){t=d;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var b={};for(u=0,s=r.length;u<s;u++){var d;b[d=r[u]]=d}i[t]=["function(require,module,exports){"+n+"(self); }",b]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[t]=t,i[h]=["function(require,module,exports){var f = require("+a(t)+");(f.default ? f.default : f)(self);}",g];var f={};!function n(e){for(var t in f[e]=!0,i[e][1]){var l=i[e][1][t];f[l]||n(l)}}(h);var m="("+l+")({"+Object.keys(f).map(function(n){return a(n)+":["+i[n][0]+","+a(i[n][1])+"]"}).join(",")+"},{},["+a(h)+"])",p=window.URL||window.webkitURL||window.mozURL||window.msURL,A=new Blob([m],{type:"text/javascript"});if(e&&e.bare)return A;var y=p.createObjectURL(A),v=new Worker(y);return v.objectURL=y,v}},{}],"/":[function(n,e,t){"use strict";var l=n("object-assign"),i=n("webworkify"),o=n("./lib/mathlib"),a=n("./lib/pool"),r=n("./lib/utils"),u=n("./lib/worker"),s=n("./lib/stepper"),c=n("./lib/tiler"),b={},d=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(d=navigator.userAgent.indexOf("Safari")>=0)}catch(v){}var h=1;"undefined"!=typeof navigator&&(h=Math.min(navigator.hardwareConcurrency||1,4));var g,f,m={tile:1024,concurrency:h,features:["js","wasm","ww"],idle:2e3},p={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0};function A(){return{value:i(u),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var n=window.URL||window.webkitURL||window.mozURL||window.msURL;n&&n.revokeObjectURL&&this.value.objectURL&&n.revokeObjectURL(this.value.objectURL)}}}}function y(n){if(!(this instanceof y))return new y(n);this.options=l({},m,n||{});var e="lk_".concat(this.options.concurrency);this.__limit=b[e]||r.limiter(this.options.concurrency),b[e]||(b[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}y.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==g&&!0!==g&&(g=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),g=!0}catch(c){}!1!==f&&!0!==f&&(f=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?f=!0:this.debug("ImageBitmap does not support .close(), disabled")));var t=this.options.features.slice();if(t.indexOf("all")>=0&&(t=["cib","wasm","js","ww"]),this.__requested_features=t,this.__mathlib=new o(t),t.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{n("webworkify")(function(){}).terminate(),this.features.ww=!0;var i="wp_".concat(JSON.stringify(this.options));b[i]?this.__workersPool=b[i]:(this.__workersPool=new a(A,this.options.idle),b[i]=this.__workersPool)}catch(c){}var u,s=this.__mathlib.init().then(function(n){l(e.features,n.features)});return u=f?r.cib_support().then(function(n){e.features.cib&&t.indexOf("cib")<0?e.debug("createImageBitmap() resize supported, but disabled by config"):t.indexOf("cib")>=0&&(e.features.cib=n)}):Promise.resolve(!1),this.__initPromise=Promise.all([s,u]).then(function(){return e}),this.__initPromise},y.prototype.resize=function(n,e,t){var i=this;this.debug("Start resize...");var o=l({},p);if(isNaN(t)?t&&(o=l(o,t)):o=l(o,{quality:t}),o.toWidth=e.width,o.toHeight=e.height,o.width=n.naturalWidth||n.width,o.height=n.naturalHeight||n.height,0===e.width||0===e.height)return Promise.reject(new Error("Invalid output size: ".concat(e.width,"x").concat(e.height)));o.unsharpRadius>2&&(o.unsharpRadius=2);var a=!1,u=null;o.cancelToken&&(u=o.cancelToken.then(function(n){throw a=!0,n},function(n){throw a=!0,n}));var b=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0));return this.init().then(function(){if(a)return u;if(i.features.cib){var t=e.getContext("2d",{alpha:Boolean(o.alpha)});return i.debug("Resize via createImageBitmap()"),createImageBitmap(n,{resizeWidth:o.toWidth,resizeHeight:o.toHeight,resizeQuality:r.cib_quality_name(o.quality)}).then(function(n){if(a)return u;if(!o.unsharpAmount)return t.drawImage(n,0,0),n.close(),t=null,i.debug("Finished!"),e;i.debug("Unsharp result");var l=document.createElement("canvas");l.width=o.toWidth,l.height=o.toHeight;var r=l.getContext("2d",{alpha:Boolean(o.alpha)});r.drawImage(n,0,0),n.close();var s=r.getImageData(0,0,o.toWidth,o.toHeight);return i.__mathlib.unsharp_mask(s.data,o.toWidth,o.toHeight,o.unsharpAmount,o.unsharpRadius,o.unsharpThreshold),t.putImageData(s,0,0),s=r=l=t=null,i.debug("Finished!"),e})}var h={};return function n(e,t,o,s){if(a)return u;var m,p,A=(2,function(n){if(Array.isArray(n))return n}(p=e.shift())||function(n,e){var t=[],l=!0,i=!1,o=void 0;try{for(var a,r=n[Symbol.iterator]();!(l=(a=r.next()).done)&&(t.push(a.value),2!==t.length);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return t}(p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),y=A[0],v=A[1],w=0===e.length;return s=l({},s,{toWidth:y,toHeight:v,quality:w?s.quality:Math.min(1,s.quality)}),w||((m=document.createElement("canvas")).width=y,m.height=v),function(n,e,t){var l,o,s;return Promise.resolve().then(function(){if(s=e.getContext("2d",{alpha:Boolean(t.alpha)}),r.isCanvas(n))return l=n.getContext("2d",{alpha:Boolean(t.alpha)}),null;if(r.isImage(n))return f?(i.debug("Decode image via createImageBitmap"),createImageBitmap(n).then(function(n){o=n})):null;throw new Error('".from" should be image or canvas')}).then(function(){if(a)return u;i.debug("Calculate tiles");var f=c({width:t.width,height:t.height,srcTileSize:i.options.tile,toWidth:t.toWidth,toHeight:t.toHeight,destTileBorder:b}).map(function(e){return function(e){return i.__limit(function(){if(a)return u;var c;if(r.isCanvas(n))i.debug("Get tile pixel data"),c=l.getImageData(e.x,e.y,e.width,e.height);else{i.debug("Draw tile imageBitmap/image to temporary canvas");var b=document.createElement("canvas");b.width=e.width,b.height=e.height;var f=b.getContext("2d",{alpha:Boolean(t.alpha)});f.globalCompositeOperation="copy",f.drawImage(o||n,e.x,e.y,e.width,e.height,0,0,e.width,e.height),i.debug("Get tile pixel data"),c=f.getImageData(0,0,e.width,e.height),f=b=null}var m={src:c.data,width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,quality:t.quality,alpha:t.alpha,unsharpAmount:t.unsharpAmount,unsharpRadius:t.unsharpRadius,unsharpThreshold:t.unsharpThreshold};return i.debug("Invoke resize math"),Promise.resolve().then(function(){return n=m,Promise.resolve().then(function(){return i.features.ww?new Promise(function(e,t){var l=i.__workersPool.acquire();u&&u.catch(function(n){return t(n)}),l.value.onmessage=function(n){l.release(),n.data.err?t(n.data.err):e(n.data.result)},l.value.postMessage({opts:n,features:i.__requested_features,preload:{wasm_nodule:i.__mathlib.__}},[n.src.buffer])}):i.__mathlib.resizeAndUnsharp(n,h)});var n}).then(function(n){if(a)return u;var t;if(c=null,i.debug("Convert raw rgba tile result to ImageData"),g)t=new ImageData(new Uint8ClampedArray(n),e.toWidth,e.toHeight);else if((t=s.createImageData(e.toWidth,e.toHeight)).data.set)t.data.set(n);else for(var l=t.data.length-1;l>=0;l--)t.data[l]=n[l];return i.debug("Draw tile"),d?s.putImageData(t,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):s.putImageData(t,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null})})}(e)});function m(){o&&(o.close(),o=null)}return i.debug("Process tiles"),Promise.all(f).then(function(){return i.debug("Finished!"),m(),e},function(n){throw m(),n})})}(t,w?o:m,s).then(function(){return w?o:(s.width=y,s.height=v,n(e,m,o,s))})}(s(o.width,o.height,o.toWidth,o.toHeight,i.options.tile,b),n,e,o)})},y.prototype.resizeBuffer=function(n){var e=this,t=l({},p,n);return this.init().then(function(){return e.__mathlib.resizeAndUnsharp(t)})},y.prototype.toBlob=function(n,e,t){return e=e||"image/png",new Promise(function(l){if(n.toBlob)n.toBlob(function(n){return l(n)},e,t);else{for(var i=atob(n.toDataURL(e,t).split(",")[1]),o=i.length,a=new Uint8Array(o),r=0;r<o;r++)a[r]=i.charCodeAt(r);l(new Blob([a],{type:e}))}})},y.prototype.debug=function(){},e.exports=y},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},wnUk:function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("mrSG"),i=t("dqwo"),o=t("VnD/"),a=t("t9fZ"),r=t("HWyg"),u=function(){function n(n,e,t){this.templateRef=n,this.viewContainer=e,this.store$=t,this.hasView=!1}return Object.defineProperty(n.prototype,"appHasPermission",{set:function(n){var e,t,u=this;if("string"==typeof n){var s=n.split(",");n=[];try{for(var c=l.h(s),b=c.next();!b.done;b=c.next()){var d=l.f(b.value.split(":"),2);n.push({model:d[0],operations:d[1]})}}catch(g){e={error:g}}finally{try{b&&!b.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}}var h=n;this.resetView(!0),this.store$.select(i.d).pipe(Object(o.a)(function(n){return!!n}),Object(a.a)(1)).subscribe(function(n){var e=!1;n.user&&n.user.admin?e=!0:n.permissions&&r.a.hasRequiredPermissions(n.permissions,h)&&(e=!0),u.resetView(e)})},enumerable:!0,configurable:!0}),n.prototype.resetView=function(n){n&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!n&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)},n}()}}]);